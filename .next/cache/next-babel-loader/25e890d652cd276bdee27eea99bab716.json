{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\corde\\\\Desktop\\\\New folder\\\\bikeshop\\\\bikeshop_frontend\\\\components\\\\payments\\\\PaymentMethods.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport OrderSummary from \"../checkout/OrderSummary\";\nimport Link from \"next/link\";\nimport ShippingSummary from \"../checkout/ShippingSummary\";\nimport { decryptData, clearData, encryptData } from \"../../store/actions/cartActions\";\nimport { decryptInfoData, encryptString } from \"../../store/actions/infoActions\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\nimport Paypal from \"./Paypal\";\nimport cookie from \"js-cookie\";\nimport { formatDate } from \"../../helpers/function\";\nimport { Slide, toast, ToastContainer } from \"react-toastify\";\nimport { useDispatch } from \"react-redux\";\nimport CreditCard from \"./CreditCard\";\nimport Gcash from \"./Gcash\";\nvar host = process.env.API_URL;\n\nfunction PaymentMethods() {\n  _s();\n\n  var _this = this;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(\"\"),\n      selectedPayment = _useState[0],\n      setselectedPayment = _useState[1];\n\n  var _useState2 = useState(false),\n      isCampaign = _useState2[0],\n      setisCampaign = _useState2[1];\n\n  var _useState3 = useState(false),\n      isLoading = _useState3[0],\n      setisLoading = _useState3[1];\n\n  var _useState4 = useState(false),\n      isCodOn = _useState4[0],\n      setisCodOn = _useState4[1];\n\n  var _useState5 = useState(0),\n      total = _useState5[0],\n      setTotal = _useState5[1];\n\n  useEffect(function () {\n    var encryptedInfoData = localStorage.getItem(process.env.INFO_COOKIE);\n    var stateSchema = decryptInfoData(encryptedInfoData);\n\n    if (stateSchema.shipping_city.value.toLowerCase().includes(\"makati\") || stateSchema.shipping_address.value.toLowerCase().includes(\"makati\") || [1226, 1233, 1209, 1214, 1217, 1221, 1222, 1219, 1220, 1202, 1201, 1228, 1212, 1211, 1206, 1204, 1229, 1232, 1224, 1200, 1207, 1235, 1231, 1218, 1213, 1230, 1210, 1216, 1215, 1227, 1203, 1234, 1223, 1205, 1225, 1208].includes(parseInt(stateSchema.shipping_zip.value))) {\n      setisCodOn(true);\n    }\n\n    var decryptedData = decryptInfoData();\n\n    if (decryptedData) {\n      if (decryptedData.delivery_date.value == \"2023-02-14\") {\n        setisCampaign(true);\n      }\n    } // toast.error(err.response.data[0].message);\n    // console.log(, \"HEYYYY\");\n\n  }, []);\n  useEffect(function () {\n    var encryptedData = localStorage.getItem(process.env.CART_COOKIE);\n    var cart = decryptData(encryptedData);\n    var amount = 0;\n\n    for (var i = 0; i < cart.length; i++) {\n      amount = amount + cart[i].discount_price * cart[i].quantity;\n    }\n\n    setTotal(amount < 100 ? 100 : amount);\n  }, []);\n\n  var handleChange = function handleChange(value) {\n    setselectedPayment(value);\n  };\n\n  var fetchUser = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(token) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"\".concat(host, \"/api/user/user/details\"), {\n                headers: {\n                  Authorization: token\n                }\n              });\n\n            case 3:\n              res = _context.sent;\n\n              if (!res.data.userDetails) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", res.data.userDetails[\"id\"]);\n\n            case 8:\n              return _context.abrupt(\"return\", 0);\n\n            case 9:\n              _context.next = 16;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n              localStorage.removeItem(\"token\");\n\n              _this.props.history.push(\"/login\");\n\n              toast.error(\"Your token is invalid or expired.\");\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 11]]);\n    }));\n\n    return function fetchUser(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleChangePrice = function handleChangePrice(products) {\n    var cartStorage = localStorage.getItem(process.env.CART_COOKIE);\n    var cartArray = decryptData(cartStorage);\n\n    var _loop = function _loop(i) {\n      var el = products[i];\n      index = cartArray.findIndex(function (item) {\n        return item.id === el.productId;\n      });\n\n      if (index > -1) {\n        cartArray[index][\"campaign_price\"] = el.campaign_price;\n        cartArray[index][\"discount_price\"] = el.discount_price;\n      }\n\n      var encryptedData = encryptData(JSON.stringify(cartArray));\n      localStorage.setItem(process.env.CART_COOKIE, encryptedData);\n      dispatch(function () {\n        return {\n          type: \"UPDATE_CART\"\n        };\n      }());\n    };\n\n    for (var i = 0; i < products.length; i++) {\n      var index;\n\n      _loop(i);\n    }\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(paymentMethod) {\n      var userId, token, encryptedData, encryptedInfoData, cart, stateSchema, orderItems, i, obj, order, res, _encryptedData, sendEmailRes;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              userId = 0;\n              token = cookie.get(\"_wus_BJK\");\n\n              if (!token) {\n                _context2.next = 11;\n                break;\n              }\n\n              _context2.prev = 3;\n              _context2.next = 6;\n              return fetchUser(token);\n\n            case 6:\n              userId = _context2.sent;\n              _context2.next = 11;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](3);\n\n            case 11:\n              setisLoading(true);\n              encryptedData = localStorage.getItem(process.env.CART_COOKIE);\n              encryptedInfoData = localStorage.getItem(process.env.INFO_COOKIE);\n              cart = decryptData(encryptedData);\n              stateSchema = decryptInfoData(encryptedInfoData);\n              orderItems = [];\n\n              for (i = 0; i < cart.length; i++) {\n                obj = null;\n\n                if (isCampaign) {\n                  obj = {\n                    productId: cart[i].id,\n                    name: cart[i].name,\n                    quantity: cart[i].quantity,\n                    itemPrice: cart[i].campaign_price\n                  };\n                } else {\n                  obj = {\n                    productId: cart[i].id,\n                    name: cart[i].name,\n                    quantity: cart[i].quantity,\n                    itemPrice: cart[i].discount_price\n                  };\n                }\n\n                orderItems.push(obj);\n              }\n\n              order = {\n                orderItems: orderItems,\n                userId: userId,\n                shippingFirstName: stateSchema.shipping_firstName.value,\n                shippingLastName: stateSchema.shipping_lastName.value,\n                shippingPhone: stateSchema.shipping_phone.value,\n                shippingAddress: stateSchema.shipping_address.value,\n                shippingCity: stateSchema.shipping_city.value,\n                shippingProvince: \"Metro Manila\",\n                shippingZip: stateSchema.shipping_zip.value,\n                deliveryInstructions: stateSchema.note.value,\n                message: stateSchema.message.value,\n                billingFirstName: stateSchema.billing_firstName.value,\n                billingLastName: stateSchema.billing_lastName.value,\n                billingPhone: stateSchema.billing_phone.value,\n                billingEmail: stateSchema.billing_email.value,\n                deliveryDate: stateSchema.delivery_date.value,\n                deliveryTime: stateSchema.delivery_time.value,\n                paymentMethod: paymentMethod,\n                isCampaign: isCampaign\n              };\n              _context2.prev = 19;\n              _context2.next = 22;\n              return axios.post(\"\".concat(host, \"/api/user/order\"), order);\n\n            case 22:\n              res = _context2.sent;\n\n              if (!res) {\n                _context2.next = 29;\n                break;\n              }\n\n              _encryptedData = encryptString(res.data.order_name); // return console.log(encryptedData, encryptedData);\n\n              _context2.next = 27;\n              return axios.post(\"\".concat(host, \"/api/user/order/sendEmail\"), {\n                billingEmail: order.billingEmail,\n                billingFirstName: order.billingFirstName,\n                orderName: res.data.order_name,\n                cryptoStr: _encryptedData,\n                orderItems: orderItems,\n                paymentMethod: paymentMethod,\n                deliveryDate: formatDate(stateSchema.delivery_date.value)\n              });\n\n            case 27:\n              sendEmailRes = _context2.sent;\n\n              if (sendEmailRes) {\n                clearData();\n                Router.push(\"/thankyou/\".concat(_encryptedData));\n              }\n\n            case 29:\n              _context2.next = 44;\n              break;\n\n            case 31:\n              _context2.prev = 31;\n              _context2.t1 = _context2[\"catch\"](19);\n              setisLoading(false);\n              console.log(_context2.t1.response.data);\n              console.log(_context2.t1.response.data[0].message);\n\n              if (!_context2.t1.response) {\n                _context2.next = 43;\n                break;\n              }\n\n              if (!_context2.t1.response.data) {\n                _context2.next = 41;\n                break;\n              }\n\n              if (!_context2.t1.response.data[0]) {\n                _context2.next = 41;\n                break;\n              }\n\n              if (_context2.t1.response.data[0].updatedOrderItems) {\n                handleChangePrice(_context2.t1.response.data[0].updatedOrderItems);\n              }\n\n              return _context2.abrupt(\"return\", toast.error(_context2.t1.response.data[0].message));\n\n            case 41:\n              _context2.next = 44;\n              break;\n\n            case 43:\n              toast.error(\"Something went wrong, Please try again or contact us.\");\n\n            case 44:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[3, 9], [19, 31]]);\n    }));\n\n    return function handleSubmit(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: \"pt-40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 5\n    }\n  }, __jsx(ToastContainer, {\n    transition: Slide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"row\",\n    style: {\n      marginLeft: \"0px\",\n      marginRight: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-5 col-md-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  }, __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 15\n    }\n  }, \"User Details\"), __jsx(Link, {\n    href: \"/checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    className: \"ml-auto btn btn-link text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  }, \"Edit\"))), __jsx(ShippingSummary, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  }, __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, \"Order Details\"), __jsx(Link, {\n    href: \"/cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    className: \"ml-auto btn btn-link text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }\n  }, \"Edit\"))), __jsx(OrderSummary, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"col-lg-7 col-md-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }, __jsx(\"h5\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }, \"Select Payment Method\"), __jsx(\"div\", {\n    className: \"order-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"payment-method\",\n    style: {\n      paddingTop: 0,\n      marginTop: \"20px\",\n      marginLeft: \"0.5rem\",\n      marginRight: \"0.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 17\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"direct-bank-transfer\",\n    name: \"radio-button\",\n    onChange: function onChange() {\n      return handleChange(\"bank\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 19\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"direct-bank-transfer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 19\n    }\n  }, \"Credit Card\"), selectedPayment == \"bank\" ? __jsx(React.Fragment, null, __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 23\n    }\n  }), __jsx(\"img\", {\n    src: require(\"../../images/logos/banks2.jpg\"),\n    alt: \"image\",\n    height: \"150\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 23\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 23\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 23\n    }\n  }), __jsx(CreditCard, {\n    amount: total,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 23\n    }\n  }), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 23\n    }\n  })) : null)), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 17\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"cash-on-delivery\",\n    name: \"radio-button\",\n    onChange: function onChange() {\n      return handleChange(\"cod\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 19\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"cash-on-delivery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 19\n    }\n  }, \"Cash on Delivery\"), selectedPayment == \"cod\" ? __jsx(React.Fragment, null, __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 23\n    }\n  }), __jsx(\"img\", {\n    src: require(\"../../images/logos/cod.jpg\"),\n    alt: \"image\",\n    height: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 23\n    }\n  }), __jsx(\"p\", {\n    style: {\n      paddingTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 23\n    }\n  }, \"When using our Cash on Delivery service, payment is given to our delivery rider upon receipt of item.\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 23\n    }\n  }), !isLoading ? __jsx(\"button\", {\n    onClick: function onClick() {\n      return handleSubmit(\"COD\");\n    },\n    className: \"btn btn-light mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 25\n    }\n  }, \"Confirm Order\") : __jsx(\"div\", {\n    className: \"lds-ring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 27\n    }\n  })), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 23\n    }\n  })) : null)), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 17\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"gcash\",\n    name: \"radio-button\",\n    onChange: function onChange() {\n      return handleChange(\"gcash\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 19\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"gcash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 19\n    }\n  }, \"GCash\"), selectedPayment == \"gcash\" ? __jsx(React.Fragment, null, __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 23\n    }\n  }), __jsx(\"img\", {\n    src: require(\"../../images/logos/gcash.png\"),\n    alt: \"image\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 23\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 23\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 23\n    }\n  }), __jsx(Gcash, {\n    amount: total,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 23\n    }\n  }), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 23\n    }\n  })) : null)), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 17\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"paymaya\",\n    name: \"radio-button\",\n    onChange: function onChange() {\n      return handleChange(\"paymaya\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 19\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"paymaya\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 19\n    }\n  }, \"Paymaya\"), selectedPayment == \"paymaya\" ? __jsx(React.Fragment, null, __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 23\n    }\n  }), __jsx(\"img\", {\n    src: require(\"../../images/logos/paymaya.jpg\"),\n    alt: \"image\",\n    height: \"50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 23\n    }\n  }), __jsx(\"p\", {\n    style: {\n      paddingTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 23\n    }\n  }, \"Once the order is completed, you can settle the amount into our Paymaya account (via deposit or bank transfer)\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"d-flex justify-content-between\",\n    style: {\n      maxWidth: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 25\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 27\n    }\n  }, \"E-Wallet:\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 27\n    }\n  }, \"Paymaya\")), __jsx(\"div\", {\n    className: \"d-flex justify-content-between\",\n    style: {\n      maxWidth: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 25\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 27\n    }\n  }, \"Account Name:\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 27\n    }\n  }, \"I-Wheels\")), __jsx(\"div\", {\n    className: \"d-flex justify-content-between\",\n    style: {\n      maxWidth: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 25\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 27\n    }\n  }, \"Mobile Number:\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 27\n    }\n  }, \"0916 509 1083\"))), __jsx(\"p\", {\n    style: {\n      color: \"red\",\n      paddingTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 23\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 25\n    }\n  }, \"Note:\"), \" Please send proof of payment (screenshot, printscreen) to\", \" \", __jsx(\"span\", {\n    style: {\n      color: \"#33bd33\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 25\n    }\n  }, \"i-Wheels26@gmail.com\"), \" \", \"or send a message to our\", \" \", __jsx(\"a\", {\n    className: \"d-inline\",\n    href: \"https://www.facebook.com/i-Wheelsph-127061742122440/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 25\n    }\n  }, \"Facebook Page\"), \".\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 23\n    }\n  }), !isLoading ? __jsx(\"button\", {\n    onClick: function onClick() {\n      return handleSubmit(\"Paymaya\");\n    },\n    className: \"btn btn-light mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 25\n    }\n  }, \"Confirm Order\") : __jsx(\"div\", {\n    className: \"lds-ring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 27\n    }\n  })), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 23\n    }\n  })) : null)))))));\n}\n\n_s(PaymentMethods, \"swB99GZQV2E96J1s+dIt2dvkKg4=\", false, function () {\n  return [useDispatch];\n});\n\n_c = PaymentMethods;\nexport default PaymentMethods;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaymentMethods\");","map":{"version":3,"sources":["C:/Users/corde/Desktop/New folder/bikeshop/bikeshop_frontend/components/payments/PaymentMethods.js"],"names":["React","useEffect","useState","OrderSummary","Link","ShippingSummary","decryptData","clearData","encryptData","decryptInfoData","encryptString","axios","Router","Paypal","cookie","formatDate","Slide","toast","ToastContainer","useDispatch","CreditCard","Gcash","host","process","env","API_URL","PaymentMethods","dispatch","selectedPayment","setselectedPayment","isCampaign","setisCampaign","isLoading","setisLoading","isCodOn","setisCodOn","total","setTotal","encryptedInfoData","localStorage","getItem","INFO_COOKIE","stateSchema","shipping_city","value","toLowerCase","includes","shipping_address","parseInt","shipping_zip","decryptedData","delivery_date","encryptedData","CART_COOKIE","cart","amount","i","length","discount_price","quantity","handleChange","fetchUser","token","get","headers","Authorization","res","data","userDetails","removeItem","props","history","push","error","handleChangePrice","products","cartStorage","cartArray","el","index","findIndex","item","id","productId","campaign_price","JSON","stringify","setItem","type","handleSubmit","paymentMethod","userId","orderItems","obj","name","itemPrice","order","shippingFirstName","shipping_firstName","shippingLastName","shipping_lastName","shippingPhone","shipping_phone","shippingAddress","shippingCity","shippingProvince","shippingZip","deliveryInstructions","note","message","billingFirstName","billing_firstName","billingLastName","billing_lastName","billingPhone","billing_phone","billingEmail","billing_email","deliveryDate","deliveryTime","delivery_time","post","order_name","orderName","cryptoStr","sendEmailRes","console","log","response","updatedOrderItems","marginLeft","marginRight","paddingTop","marginTop","require","maxWidth","color"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AACA,SACEC,WADF,EAEEC,SAFF,EAGEC,WAHF,QAIO,iCAJP;AAKA,SACEC,eADF,EAEEC,aAFF,QAGO,iCAHP;AAIA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,KAAT,EAAgBC,KAAhB,EAAuBC,cAAvB,QAA6C,gBAA7C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,IAAIC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,OAAvB;;AAEA,SAASC,cAAT,GAA0B;AAAA;;AAAA;;AACxB,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;;AADwB,kBAEsBjB,QAAQ,CAAC,EAAD,CAF9B;AAAA,MAEjB0B,eAFiB;AAAA,MAEAC,kBAFA;;AAAA,mBAGY3B,QAAQ,CAAC,KAAD,CAHpB;AAAA,MAGjB4B,UAHiB;AAAA,MAGLC,aAHK;;AAAA,mBAIU7B,QAAQ,CAAC,KAAD,CAJlB;AAAA,MAIjB8B,SAJiB;AAAA,MAINC,YAJM;;AAAA,mBAKM/B,QAAQ,CAAC,KAAD,CALd;AAAA,MAKjBgC,OALiB;AAAA,MAKRC,UALQ;;AAAA,mBAMEjC,QAAQ,CAAC,CAAD,CANV;AAAA,MAMjBkC,KANiB;AAAA,MAMVC,QANU;;AAQxBpC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIqC,iBAAiB,GAAGC,YAAY,CAACC,OAAb,CAAqBjB,OAAO,CAACC,GAAR,CAAYiB,WAAjC,CAAxB;AACA,QAAIC,WAAW,GAAGjC,eAAe,CAAC6B,iBAAD,CAAjC;;AAEA,QACEI,WAAW,CAACC,aAAZ,CAA0BC,KAA1B,CAAgCC,WAAhC,GAA8CC,QAA9C,CAAuD,QAAvD,KACAJ,WAAW,CAACK,gBAAZ,CAA6BH,KAA7B,CAAmCC,WAAnC,GAAiDC,QAAjD,CAA0D,QAA1D,CADA,IAEA,CACE,IADF,EACQ,IADR,EACc,IADd,EACoB,IADpB,EAC0B,IAD1B,EACgC,IADhC,EACsC,IADtC,EAC4C,IAD5C,EACkD,IADlD,EACwD,IADxD,EAC8D,IAD9D,EACoE,IADpE,EAEE,IAFF,EAEQ,IAFR,EAEc,IAFd,EAEoB,IAFpB,EAE0B,IAF1B,EAEgC,IAFhC,EAEsC,IAFtC,EAE4C,IAF5C,EAEkD,IAFlD,EAEwD,IAFxD,EAE8D,IAF9D,EAEoE,IAFpE,EAGE,IAHF,EAGQ,IAHR,EAGc,IAHd,EAGoB,IAHpB,EAG0B,IAH1B,EAGgC,IAHhC,EAGsC,IAHtC,EAG4C,IAH5C,EAGkD,IAHlD,EAGwD,IAHxD,EAG8D,IAH9D,EAGoE,IAHpE,EAIEA,QAJF,CAIWE,QAAQ,CAACN,WAAW,CAACO,YAAZ,CAAyBL,KAA1B,CAJnB,CAHF,EAQE;AACAT,MAAAA,UAAU,CAAC,IAAD,CAAV;AACD;;AAED,QAAIe,aAAa,GAAGzC,eAAe,EAAnC;;AAEA,QAAIyC,aAAJ,EAAmB;AACjB,UAAIA,aAAa,CAACC,aAAd,CAA4BP,KAA5B,IAAqC,YAAzC,EAAuD;AACrDb,QAAAA,aAAa,CAAC,IAAD,CAAb;AACD;AACF,KAtBa,CAuBd;AACA;;AACD,GAzBQ,EAyBN,EAzBM,CAAT;AA2BA9B,EAAAA,SAAS,CAAC,YAAM;AACd,QAAImD,aAAa,GAAGb,YAAY,CAACC,OAAb,CAAqBjB,OAAO,CAACC,GAAR,CAAY6B,WAAjC,CAApB;AACA,QAAIC,IAAI,GAAGhD,WAAW,CAAC8C,aAAD,CAAtB;AAEA,QAAIG,MAAM,GAAG,CAAb;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpCD,MAAAA,MAAM,GAAGA,MAAM,GAAGD,IAAI,CAACE,CAAD,CAAJ,CAAQE,cAAR,GAAyBJ,IAAI,CAACE,CAAD,CAAJ,CAAQG,QAAnD;AACD;;AAEDtB,IAAAA,QAAQ,CAACkB,MAAM,GAAG,GAAT,GAAe,GAAf,GAAqBA,MAAtB,CAAR;AACD,GAVQ,EAUN,EAVM,CAAT;;AAYA,MAAMK,YAAY,GAAG,SAAfA,YAAe,CAAChB,KAAD,EAAW;AAC9Bf,IAAAA,kBAAkB,CAACe,KAAD,CAAlB;AACD,GAFD;;AAIA,MAAMiB,SAAS;AAAA,wEAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEEnD,KAAK,CAACoD,GAAN,WAAazC,IAAb,6BAA2C;AACzD0C,gBAAAA,OAAO,EAAE;AACPC,kBAAAA,aAAa,EAAEH;AADR;AADgD,eAA3C,CAFF;;AAAA;AAEVI,cAAAA,GAFU;;AAAA,mBAOVA,GAAG,CAACC,IAAJ,CAASC,WAPC;AAAA;AAAA;AAAA;;AAAA,+CAQLF,GAAG,CAACC,IAAJ,CAASC,WAAT,CAAqB,IAArB,CARK;;AAAA;AAAA,+CAUL,CAVK;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAad7B,cAAAA,YAAY,CAAC8B,UAAb,CAAwB,OAAxB;;AACA,cAAA,KAAI,CAACC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;;AACAvD,cAAAA,KAAK,CAACwD,KAAN,CAAY,mCAAZ;;AAfc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATZ,SAAS;AAAA;AAAA;AAAA,KAAf;;AAmBA,MAAMa,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,QAAD,EAAc;AACtC,QAAIC,WAAW,GAAGrC,YAAY,CAACC,OAAb,CAAqBjB,OAAO,CAACC,GAAR,CAAY6B,WAAjC,CAAlB;AACA,QAAIwB,SAAS,GAAGvE,WAAW,CAACsE,WAAD,CAA3B;;AAFsC,+BAI7BpB,CAJ6B;AAKpC,UAAMsB,EAAE,GAAGH,QAAQ,CAACnB,CAAD,CAAnB;AAEIuB,MAAAA,KAAK,GAAGF,SAAS,CAACG,SAAV,CAAoB,UAACC,IAAD;AAAA,eAAUA,IAAI,CAACC,EAAL,KAAYJ,EAAE,CAACK,SAAzB;AAAA,OAApB,CAPwB;;AASpC,UAAIJ,KAAK,GAAG,CAAC,CAAb,EAAgB;AACdF,QAAAA,SAAS,CAACE,KAAD,CAAT,CAAiB,gBAAjB,IAAqCD,EAAE,CAACM,cAAxC;AACAP,QAAAA,SAAS,CAACE,KAAD,CAAT,CAAiB,gBAAjB,IAAqCD,EAAE,CAACpB,cAAxC;AACD;;AAED,UAAIN,aAAa,GAAG5C,WAAW,CAAC6E,IAAI,CAACC,SAAL,CAAeT,SAAf,CAAD,CAA/B;AAEAtC,MAAAA,YAAY,CAACgD,OAAb,CAAqBhE,OAAO,CAACC,GAAR,CAAY6B,WAAjC,EAA8CD,aAA9C;AAEAzB,MAAAA,QAAQ,CACL,YAAM;AACL,eAAO;AACL6D,UAAAA,IAAI,EAAE;AADD,SAAP;AAGD,OAJD,EADM,CAAR;AAlBoC;;AAItC,SAAK,IAAIhC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmB,QAAQ,CAAClB,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AAAA,UAGpCuB,KAHoC;;AAAA,YAAjCvB,CAAiC;AAqBzC;AACF,GA1BD;;AA4BA,MAAMiC,YAAY;AAAA,yEAAG,kBAAOC,aAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACfC,cAAAA,MADe,GACN,CADM;AAEf7B,cAAAA,KAFe,GAEPhD,MAAM,CAACiD,GAAP,CAAW,UAAX,CAFO;;AAAA,mBAGfD,KAHe;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAKAD,SAAS,CAACC,KAAD,CALT;;AAAA;AAKf6B,cAAAA,MALe;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AASnB1D,cAAAA,YAAY,CAAC,IAAD,CAAZ;AACImB,cAAAA,aAVe,GAUCb,YAAY,CAACC,OAAb,CAAqBjB,OAAO,CAACC,GAAR,CAAY6B,WAAjC,CAVD;AAWff,cAAAA,iBAXe,GAWKC,YAAY,CAACC,OAAb,CAAqBjB,OAAO,CAACC,GAAR,CAAYiB,WAAjC,CAXL;AAYfa,cAAAA,IAZe,GAYRhD,WAAW,CAAC8C,aAAD,CAZH;AAafV,cAAAA,WAbe,GAaDjC,eAAe,CAAC6B,iBAAD,CAbd;AAefsD,cAAAA,UAfe,GAeF,EAfE;;AAgBnB,mBAASpC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAChCqC,gBAAAA,GADgC,GAC1B,IAD0B;;AAEpC,oBAAI/D,UAAJ,EAAgB;AACd+D,kBAAAA,GAAG,GAAG;AACJV,oBAAAA,SAAS,EAAE7B,IAAI,CAACE,CAAD,CAAJ,CAAQ0B,EADf;AAEJY,oBAAAA,IAAI,EAAExC,IAAI,CAACE,CAAD,CAAJ,CAAQsC,IAFV;AAGJnC,oBAAAA,QAAQ,EAAEL,IAAI,CAACE,CAAD,CAAJ,CAAQG,QAHd;AAIJoC,oBAAAA,SAAS,EAAEzC,IAAI,CAACE,CAAD,CAAJ,CAAQ4B;AAJf,mBAAN;AAMD,iBAPD,MAOO;AACLS,kBAAAA,GAAG,GAAG;AACJV,oBAAAA,SAAS,EAAE7B,IAAI,CAACE,CAAD,CAAJ,CAAQ0B,EADf;AAEJY,oBAAAA,IAAI,EAAExC,IAAI,CAACE,CAAD,CAAJ,CAAQsC,IAFV;AAGJnC,oBAAAA,QAAQ,EAAEL,IAAI,CAACE,CAAD,CAAJ,CAAQG,QAHd;AAIJoC,oBAAAA,SAAS,EAAEzC,IAAI,CAACE,CAAD,CAAJ,CAAQE;AAJf,mBAAN;AAMD;;AAEDkC,gBAAAA,UAAU,CAACpB,IAAX,CAAgBqB,GAAhB;AACD;;AAEGG,cAAAA,KArCe,GAqCP;AACVJ,gBAAAA,UAAU,EAAEA,UADF;AAEVD,gBAAAA,MAAM,EAAEA,MAFE;AAGVM,gBAAAA,iBAAiB,EAAEvD,WAAW,CAACwD,kBAAZ,CAA+BtD,KAHxC;AAIVuD,gBAAAA,gBAAgB,EAAEzD,WAAW,CAAC0D,iBAAZ,CAA8BxD,KAJtC;AAKVyD,gBAAAA,aAAa,EAAE3D,WAAW,CAAC4D,cAAZ,CAA2B1D,KALhC;AAMV2D,gBAAAA,eAAe,EAAE7D,WAAW,CAACK,gBAAZ,CAA6BH,KANpC;AAOV4D,gBAAAA,YAAY,EAAE9D,WAAW,CAACC,aAAZ,CAA0BC,KAP9B;AAQV6D,gBAAAA,gBAAgB,EAAE,cARR;AASVC,gBAAAA,WAAW,EAAEhE,WAAW,CAACO,YAAZ,CAAyBL,KAT5B;AAUV+D,gBAAAA,oBAAoB,EAAEjE,WAAW,CAACkE,IAAZ,CAAiBhE,KAV7B;AAWViE,gBAAAA,OAAO,EAAEnE,WAAW,CAACmE,OAAZ,CAAoBjE,KAXnB;AAYVkE,gBAAAA,gBAAgB,EAAEpE,WAAW,CAACqE,iBAAZ,CAA8BnE,KAZtC;AAaVoE,gBAAAA,eAAe,EAAEtE,WAAW,CAACuE,gBAAZ,CAA6BrE,KAbpC;AAcVsE,gBAAAA,YAAY,EAAExE,WAAW,CAACyE,aAAZ,CAA0BvE,KAd9B;AAeVwE,gBAAAA,YAAY,EAAE1E,WAAW,CAAC2E,aAAZ,CAA0BzE,KAf9B;AAgBV0E,gBAAAA,YAAY,EAAE5E,WAAW,CAACS,aAAZ,CAA0BP,KAhB9B;AAiBV2E,gBAAAA,YAAY,EAAE7E,WAAW,CAAC8E,aAAZ,CAA0B5E,KAjB9B;AAkBV8C,gBAAAA,aAAa,EAAEA,aAlBL;AAmBV5D,gBAAAA,UAAU,EAAEA;AAnBF,eArCO;AAAA;AAAA;AAAA,qBA4DCnB,KAAK,CAAC8G,IAAN,WAAcnG,IAAd,sBAAqC0E,KAArC,CA5DD;;AAAA;AA4DX9B,cAAAA,GA5DW;;AAAA,mBA6DbA,GA7Da;AAAA;AAAA;AAAA;;AA8DXd,cAAAA,cA9DW,GA8DK1C,aAAa,CAACwD,GAAG,CAACC,IAAJ,CAASuD,UAAV,CA9DlB,EAgEf;;AAhEe;AAAA,qBAkEU/G,KAAK,CAAC8G,IAAN,WACpBnG,IADoB,gCAEvB;AACE8F,gBAAAA,YAAY,EAAEpB,KAAK,CAACoB,YADtB;AAEEN,gBAAAA,gBAAgB,EAAEd,KAAK,CAACc,gBAF1B;AAGEa,gBAAAA,SAAS,EAAEzD,GAAG,CAACC,IAAJ,CAASuD,UAHtB;AAIEE,gBAAAA,SAAS,EAAExE,cAJb;AAKEwC,gBAAAA,UAAU,EAAEA,UALd;AAMEF,gBAAAA,aAAa,EAAEA,aANjB;AAOE4B,gBAAAA,YAAY,EAAEvG,UAAU,CAAC2B,WAAW,CAACS,aAAZ,CAA0BP,KAA3B;AAP1B,eAFuB,CAlEV;;AAAA;AAkEXiF,cAAAA,YAlEW;;AA+Ef,kBAAIA,YAAJ,EAAkB;AAChBtH,gBAAAA,SAAS;AACTK,gBAAAA,MAAM,CAAC4D,IAAP,qBAAyBpB,cAAzB;AACD;;AAlFc;AAAA;AAAA;;AAAA;AAAA;AAAA;AAqFjBnB,cAAAA,YAAY,CAAC,KAAD,CAAZ;AACA6F,cAAAA,OAAO,CAACC,GAAR,CAAY,aAAIC,QAAJ,CAAa7D,IAAzB;AACA2D,cAAAA,OAAO,CAACC,GAAR,CAAY,aAAIC,QAAJ,CAAa7D,IAAb,CAAkB,CAAlB,EAAqB0C,OAAjC;;AAvFiB,mBAwFb,aAAImB,QAxFS;AAAA;AAAA;AAAA;;AAAA,mBAyFX,aAAIA,QAAJ,CAAa7D,IAzFF;AAAA;AAAA;AAAA;;AAAA,mBA0FT,aAAI6D,QAAJ,CAAa7D,IAAb,CAAkB,CAAlB,CA1FS;AAAA;AAAA;AAAA;;AA2FX,kBAAI,aAAI6D,QAAJ,CAAa7D,IAAb,CAAkB,CAAlB,EAAqB8D,iBAAzB,EAA4C;AAC1CvD,gBAAAA,iBAAiB,CAAC,aAAIsD,QAAJ,CAAa7D,IAAb,CAAkB,CAAlB,EAAqB8D,iBAAtB,CAAjB;AACD;;AA7FU,gDA8FJhH,KAAK,CAACwD,KAAN,CAAY,aAAIuD,QAAJ,CAAa7D,IAAb,CAAkB,CAAlB,EAAqB0C,OAAjC,CA9FI;;AAAA;AAAA;AAAA;;AAAA;AAkGf5F,cAAAA,KAAK,CAACwD,KAAN,CAAY,uDAAZ;;AAlGe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZgB,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAuGA,SACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,cAAD;AAAgB,IAAA,UAAU,EAAEzE,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAqB,IAAA,KAAK,EAAE;AAAEkH,MAAAA,UAAU,EAAE,KAAd;AAAqBC,MAAAA,WAAW,EAAE;AAAlC,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,kCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CAFF,CADF,EAOE,MAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,kCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CAFF,CADF,EAOE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAXF,CADF,EAsBE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,EAEE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,gBADZ;AAEE,IAAA,KAAK,EAAE;AACLC,MAAAA,UAAU,EAAE,CADP;AAELC,MAAAA,SAAS,EAAE,MAFN;AAGLH,MAAAA,UAAU,EAAE,QAHP;AAILC,MAAAA,WAAW,EAAE;AAJR,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,EAAE,EAAC,sBAFL;AAGE,IAAA,IAAI,EAAC,cAHP;AAIE,IAAA,QAAQ,EAAE;AAAA,aAAMvE,YAAY,CAAC,MAAD,CAAlB;AAAA,KAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AAAO,IAAA,OAAO,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPF,EAQGhC,eAAe,IAAI,MAAnB,GACC,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AACE,IAAA,GAAG,EAAE0G,OAAO,CAAC,+BAAD,CADd;AAEE,IAAA,GAAG,EAAC,OAFN;AAGE,IAAA,MAAM,EAAC,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EASE,MAAC,UAAD;AAAY,IAAA,MAAM,EAAElG,KAApB;AAA2B,IAAA,YAAY,EAAEqD,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CADD,GAcG,IAtBN,CADF,CATF,EAmCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,EAAE,EAAC,kBAFL;AAGE,IAAA,IAAI,EAAC,cAHP;AAIE,IAAA,QAAQ,EAAE;AAAA,aAAM7B,YAAY,CAAC,KAAD,CAAlB;AAAA,KAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AAAO,IAAA,OAAO,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPF,EAQGhC,eAAe,IAAI,KAAnB,GACC,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AACE,IAAA,GAAG,EAAE0G,OAAO,CAAC,4BAAD,CADd;AAEE,IAAA,GAAG,EAAC,OAFN;AAGE,IAAA,MAAM,EAAC,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAOE;AAAG,IAAA,KAAK,EAAE;AAAEF,MAAAA,UAAU,EAAE;AAAd,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6GAPF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,EAYG,CAACpG,SAAD,GACC;AACE,IAAA,OAAO,EAAE;AAAA,aAAMyD,YAAY,CAAC,KAAD,CAAlB;AAAA,KADX;AAEE,IAAA,SAAS,EAAC,oBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,GAQC;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CApBJ,EA2BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3BF,CADD,GA8BG,IAtCN,CADF,CAnCF,EA8EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,EAAE,EAAC,OAFL;AAGE,IAAA,IAAI,EAAC,cAHP;AAIE,IAAA,QAAQ,EAAE;AAAA,aAAM7B,YAAY,CAAC,OAAD,CAAlB;AAAA,KAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aARF,EASGhC,eAAe,IAAI,OAAnB,GACC,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AACE,IAAA,GAAG,EAAE0G,OAAO,CAAC,8BAAD,CADd;AAEE,IAAA,GAAG,EAAC,OAFN;AAGE,IAAA,MAAM,EAAC,IAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EASE,MAAC,KAAD;AAAO,IAAA,MAAM,EAAElG,KAAf;AAAsB,IAAA,YAAY,EAAEqD,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADD,GAaG,IAtBN,CADF,CA9EF,EAwGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,EAAE,EAAC,SAFL;AAGE,IAAA,IAAI,EAAC,cAHP;AAIE,IAAA,QAAQ,EAAE;AAAA,aAAM7B,YAAY,CAAC,SAAD,CAAlB;AAAA,KAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AAAO,IAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPF,EAQGhC,eAAe,IAAI,SAAnB,GACC,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AACE,IAAA,GAAG,EAAE0G,OAAO,CAAC,gCAAD,CADd;AAEE,IAAA,GAAG,EAAC,OAFN;AAGE,IAAA,MAAM,EAAC,IAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAOE;AAAG,IAAA,KAAK,EAAE;AAAEF,MAAAA,UAAU,EAAE;AAAd,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sHAPF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,gCADZ;AAEE,IAAA,KAAK,EAAE;AAAEG,MAAAA,QAAQ,EAAE;AAAZ,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF,CADF,EAQE;AACE,IAAA,SAAS,EAAC,gCADZ;AAEE,IAAA,KAAK,EAAE;AAAEA,MAAAA,QAAQ,EAAE;AAAZ,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,CARF,EAeE;AACE,IAAA,SAAS,EAAC,gCADZ;AAEE,IAAA,KAAK,EAAE;AAAEA,MAAAA,QAAQ,EAAE;AAAZ,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALF,CAfF,CAXF,EAkCE;AAAG,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE,KAAT;AAAgBJ,MAAAA,UAAU,EAAE;AAA5B,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,gEAEkB,GAFlB,EAGE;AAAM,IAAA,KAAK,EAAE;AAAEI,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAHF,EAKU,GALV,8BAM2B,GAN3B,EAOE;AACE,IAAA,SAAS,EAAC,UADZ;AAEE,IAAA,IAAI,EAAC,sDAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPF,MAlCF,EAiDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjDF,EAkDG,CAACxG,SAAD,GACC;AACE,IAAA,OAAO,EAAE;AAAA,aAAMyD,YAAY,CAAC,SAAD,CAAlB;AAAA,KADX;AAEE,IAAA,SAAS,EAAC,oBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,GAQC;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CA1DJ,EAiEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjEF,CADD,GAoEG,IA5EN,CADF,CAxGF,CADF,CAFF,CAtBF,CAFF,CADF;AA0ND;;GAnaQ/D,c;UACUP,W;;;KADVO,c;AAqaT,eAAeA,cAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport OrderSummary from \"../checkout/OrderSummary\";\r\nimport Link from \"next/link\";\r\nimport ShippingSummary from \"../checkout/ShippingSummary\";\r\nimport {\r\n  decryptData,\r\n  clearData,\r\n  encryptData,\r\n} from \"../../store/actions/cartActions\";\r\nimport {\r\n  decryptInfoData,\r\n  encryptString,\r\n} from \"../../store/actions/infoActions\";\r\nimport axios from \"axios\";\r\nimport Router from \"next/router\";\r\nimport Paypal from \"./Paypal\";\r\nimport cookie from \"js-cookie\";\r\nimport { formatDate } from \"../../helpers/function\";\r\nimport { Slide, toast, ToastContainer } from \"react-toastify\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport CreditCard from \"./CreditCard\";\r\nimport Gcash from \"./Gcash\";\r\n\r\nlet host = process.env.API_URL;\r\n\r\nfunction PaymentMethods() {\r\n  const dispatch = useDispatch();\r\n  const [selectedPayment, setselectedPayment] = useState(\"\");\r\n  const [isCampaign, setisCampaign] = useState(false);\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [isCodOn, setisCodOn] = useState(false);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let encryptedInfoData = localStorage.getItem(process.env.INFO_COOKIE);\r\n    let stateSchema = decryptInfoData(encryptedInfoData);\r\n\r\n    if (\r\n      stateSchema.shipping_city.value.toLowerCase().includes(\"makati\") ||\r\n      stateSchema.shipping_address.value.toLowerCase().includes(\"makati\") ||\r\n      [\r\n        1226, 1233, 1209, 1214, 1217, 1221, 1222, 1219, 1220, 1202, 1201, 1228,\r\n        1212, 1211, 1206, 1204, 1229, 1232, 1224, 1200, 1207, 1235, 1231, 1218,\r\n        1213, 1230, 1210, 1216, 1215, 1227, 1203, 1234, 1223, 1205, 1225, 1208,\r\n      ].includes(parseInt(stateSchema.shipping_zip.value))\r\n    ) {\r\n      setisCodOn(true);\r\n    }\r\n\r\n    let decryptedData = decryptInfoData();\r\n\r\n    if (decryptedData) {\r\n      if (decryptedData.delivery_date.value == \"2023-02-14\") {\r\n        setisCampaign(true);\r\n      }\r\n    }\r\n    // toast.error(err.response.data[0].message);\r\n    // console.log(, \"HEYYYY\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let encryptedData = localStorage.getItem(process.env.CART_COOKIE);\r\n    let cart = decryptData(encryptedData);\r\n\r\n    let amount = 0;\r\n    for (let i = 0; i < cart.length; i++) {\r\n      amount = amount + cart[i].discount_price * cart[i].quantity;\r\n    }\r\n\r\n    setTotal(amount < 100 ? 100 : amount);\r\n  }, []);\r\n\r\n  const handleChange = (value) => {\r\n    setselectedPayment(value);\r\n  };\r\n\r\n  const fetchUser = async (token) => {\r\n    try {\r\n      let res = await axios.get(`${host}/api/user/user/details`, {\r\n        headers: {\r\n          Authorization: token,\r\n        },\r\n      });\r\n      if (res.data.userDetails) {\r\n        return res.data.userDetails[\"id\"];\r\n      } else {\r\n        return 0;\r\n      }\r\n    } catch (error) {\r\n      localStorage.removeItem(\"token\");\r\n      this.props.history.push(\"/login\");\r\n      toast.error(\"Your token is invalid or expired.\");\r\n    }\r\n  };\r\n\r\n  const handleChangePrice = (products) => {\r\n    let cartStorage = localStorage.getItem(process.env.CART_COOKIE);\r\n    let cartArray = decryptData(cartStorage);\r\n\r\n    for (let i = 0; i < products.length; i++) {\r\n      const el = products[i];\r\n\r\n      var index = cartArray.findIndex((item) => item.id === el.productId);\r\n\r\n      if (index > -1) {\r\n        cartArray[index][\"campaign_price\"] = el.campaign_price;\r\n        cartArray[index][\"discount_price\"] = el.discount_price;\r\n      }\r\n\r\n      let encryptedData = encryptData(JSON.stringify(cartArray));\r\n\r\n      localStorage.setItem(process.env.CART_COOKIE, encryptedData);\r\n\r\n      dispatch(\r\n        (() => {\r\n          return {\r\n            type: \"UPDATE_CART\",\r\n          };\r\n        })()\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (paymentMethod) => {\r\n    let userId = 0;\r\n    let token = cookie.get(\"_wus_BJK\");\r\n    if (token) {\r\n      try {\r\n        userId = await fetchUser(token);\r\n      } catch (error) {}\r\n    }\r\n\r\n    setisLoading(true);\r\n    let encryptedData = localStorage.getItem(process.env.CART_COOKIE);\r\n    let encryptedInfoData = localStorage.getItem(process.env.INFO_COOKIE);\r\n    let cart = decryptData(encryptedData);\r\n    let stateSchema = decryptInfoData(encryptedInfoData);\r\n\r\n    let orderItems = [];\r\n    for (let i = 0; i < cart.length; i++) {\r\n      let obj = null;\r\n      if (isCampaign) {\r\n        obj = {\r\n          productId: cart[i].id,\r\n          name: cart[i].name,\r\n          quantity: cart[i].quantity,\r\n          itemPrice: cart[i].campaign_price,\r\n        };\r\n      } else {\r\n        obj = {\r\n          productId: cart[i].id,\r\n          name: cart[i].name,\r\n          quantity: cart[i].quantity,\r\n          itemPrice: cart[i].discount_price,\r\n        };\r\n      }\r\n\r\n      orderItems.push(obj);\r\n    }\r\n\r\n    let order = {\r\n      orderItems: orderItems,\r\n      userId: userId,\r\n      shippingFirstName: stateSchema.shipping_firstName.value,\r\n      shippingLastName: stateSchema.shipping_lastName.value,\r\n      shippingPhone: stateSchema.shipping_phone.value,\r\n      shippingAddress: stateSchema.shipping_address.value,\r\n      shippingCity: stateSchema.shipping_city.value,\r\n      shippingProvince: \"Metro Manila\",\r\n      shippingZip: stateSchema.shipping_zip.value,\r\n      deliveryInstructions: stateSchema.note.value,\r\n      message: stateSchema.message.value,\r\n      billingFirstName: stateSchema.billing_firstName.value,\r\n      billingLastName: stateSchema.billing_lastName.value,\r\n      billingPhone: stateSchema.billing_phone.value,\r\n      billingEmail: stateSchema.billing_email.value,\r\n      deliveryDate: stateSchema.delivery_date.value,\r\n      deliveryTime: stateSchema.delivery_time.value,\r\n      paymentMethod: paymentMethod,\r\n      isCampaign: isCampaign,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(`${host}/api/user/order`, order);\r\n      if (res) {\r\n        let encryptedData = encryptString(res.data.order_name);\r\n\r\n        // return console.log(encryptedData, encryptedData);\r\n\r\n        let sendEmailRes = await axios.post(\r\n          `${host}/api/user/order/sendEmail`,\r\n          {\r\n            billingEmail: order.billingEmail,\r\n            billingFirstName: order.billingFirstName,\r\n            orderName: res.data.order_name,\r\n            cryptoStr: encryptedData,\r\n            orderItems: orderItems,\r\n            paymentMethod: paymentMethod,\r\n            deliveryDate: formatDate(stateSchema.delivery_date.value),\r\n          }\r\n        );\r\n\r\n        if (sendEmailRes) {\r\n          clearData();\r\n          Router.push(`/thankyou/${encryptedData}`);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setisLoading(false);\r\n      console.log(err.response.data);\r\n      console.log(err.response.data[0].message);\r\n      if (err.response) {\r\n        if (err.response.data) {\r\n          if (err.response.data[0]) {\r\n            if (err.response.data[0].updatedOrderItems) {\r\n              handleChangePrice(err.response.data[0].updatedOrderItems);\r\n            }\r\n            return toast.error(err.response.data[0].message);\r\n          }\r\n        }\r\n      } else {\r\n        toast.error(\"Something went wrong, Please try again or contact us.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"pt-40\">\r\n      <ToastContainer transition={Slide} />\r\n      <div className=\"row\" style={{ marginLeft: \"0px\", marginRight: \"0px\" }}>\r\n        <div className=\"col-lg-5 col-md-5\">\r\n          <div>\r\n            <div className=\"d-flex\">\r\n              <h5>User Details</h5>\r\n              <Link href=\"/checkout\">\r\n                <a className=\"ml-auto btn btn-link text-danger\">Edit</a>\r\n              </Link>\r\n            </div>\r\n            <ShippingSummary />\r\n          </div>\r\n\r\n          <div>\r\n            <div className=\"d-flex\">\r\n              <h5>Order Details</h5>\r\n              <Link href=\"/cart\">\r\n                <a className=\"ml-auto btn btn-link text-danger\">Edit</a>\r\n              </Link>\r\n            </div>\r\n            <OrderSummary />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-7 col-md-7\">\r\n          <h5 className=\"text-center\">Select Payment Method</h5>\r\n          <div className=\"order-details\">\r\n            <div\r\n              className=\"payment-method\"\r\n              style={{\r\n                paddingTop: 0,\r\n                marginTop: \"20px\",\r\n                marginLeft: \"0.5rem\",\r\n                marginRight: \"0.5rem\",\r\n              }}\r\n            >\r\n              <div>\r\n                <p>\r\n                  <input\r\n                    type=\"radio\"\r\n                    id=\"direct-bank-transfer\"\r\n                    name=\"radio-button\"\r\n                    onChange={() => handleChange(\"bank\")}\r\n                  />\r\n                  <label htmlFor=\"direct-bank-transfer\">Credit Card</label>\r\n                  {selectedPayment == \"bank\" ? (\r\n                    <>\r\n                      <hr />\r\n                      <img\r\n                        src={require(\"../../images/logos/banks2.jpg\")}\r\n                        alt=\"image\"\r\n                        height=\"150\"\r\n                      />\r\n                      <br />\r\n                      <br />\r\n                      <CreditCard amount={total} handleSubmit={handleSubmit} />\r\n\r\n                      <hr />\r\n                    </>\r\n                  ) : null}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p>\r\n                  <input\r\n                    type=\"radio\"\r\n                    id=\"cash-on-delivery\"\r\n                    name=\"radio-button\"\r\n                    onChange={() => handleChange(\"cod\")}\r\n                  />\r\n                  <label htmlFor=\"cash-on-delivery\">Cash on Delivery</label>\r\n                  {selectedPayment == \"cod\" ? (\r\n                    <>\r\n                      <hr />\r\n                      <img\r\n                        src={require(\"../../images/logos/cod.jpg\")}\r\n                        alt=\"image\"\r\n                        height=\"100\"\r\n                      />\r\n                      <p style={{ paddingTop: \"10px\" }}>\r\n                        When using our Cash on Delivery service, payment is\r\n                        given to our delivery rider upon receipt of item.\r\n                      </p>\r\n                      <br />\r\n                      {!isLoading ? (\r\n                        <button\r\n                          onClick={() => handleSubmit(\"COD\")}\r\n                          className=\"btn btn-light mb-3\"\r\n                        >\r\n                          Confirm Order\r\n                        </button>\r\n                      ) : (\r\n                        <div className=\"lds-ring\">\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                        </div>\r\n                      )}\r\n                      <hr />\r\n                    </>\r\n                  ) : null}\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <p>\r\n                  <input\r\n                    type=\"radio\"\r\n                    id=\"gcash\"\r\n                    name=\"radio-button\"\r\n                    onChange={() => handleChange(\"gcash\")}\r\n                  />\r\n\r\n                  <label htmlFor=\"gcash\">GCash</label>\r\n                  {selectedPayment == \"gcash\" ? (\r\n                    <>\r\n                      <hr />\r\n                      <img\r\n                        src={require(\"../../images/logos/gcash.png\")}\r\n                        alt=\"image\"\r\n                        height=\"70\"\r\n                      />\r\n                      <br />\r\n                      <br />\r\n                      <Gcash amount={total} handleSubmit={handleSubmit} />\r\n                      <hr />\r\n                    </>\r\n                  ) : null}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p>\r\n                  <input\r\n                    type=\"radio\"\r\n                    id=\"paymaya\"\r\n                    name=\"radio-button\"\r\n                    onChange={() => handleChange(\"paymaya\")}\r\n                  />\r\n                  <label htmlFor=\"paymaya\">Paymaya</label>\r\n                  {selectedPayment == \"paymaya\" ? (\r\n                    <>\r\n                      <hr />\r\n                      <img\r\n                        src={require(\"../../images/logos/paymaya.jpg\")}\r\n                        alt=\"image\"\r\n                        height=\"50\"\r\n                      />\r\n                      <p style={{ paddingTop: \"20px\" }}>\r\n                        Once the order is completed, you can settle the amount\r\n                        into our Paymaya account (via deposit or bank transfer)\r\n                      </p>\r\n                      <div>\r\n                        <div\r\n                          className=\"d-flex justify-content-between\"\r\n                          style={{ maxWidth: \"300px\" }}\r\n                        >\r\n                          <h6>E-Wallet:</h6>\r\n                          <h6>Paymaya</h6>\r\n                        </div>\r\n                        <div\r\n                          className=\"d-flex justify-content-between\"\r\n                          style={{ maxWidth: \"300px\" }}\r\n                        >\r\n                          <h6>Account Name:</h6>\r\n                          <h6>I-Wheels</h6>\r\n                        </div>\r\n                        <div\r\n                          className=\"d-flex justify-content-between\"\r\n                          style={{ maxWidth: \"300px\" }}\r\n                        >\r\n                          <h6>Mobile Number:</h6>\r\n                          <h6>0916 509 1083</h6>\r\n                        </div>\r\n                      </div>\r\n                      <p style={{ color: \"red\", paddingTop: \"20px\" }}>\r\n                        <b>Note:</b> Please send proof of payment (screenshot,\r\n                        printscreen) to{\" \"}\r\n                        <span style={{ color: \"#33bd33\" }}>\r\n                          i-Wheels26@gmail.com\r\n                        </span>{\" \"}\r\n                        or send a message to our{\" \"}\r\n                        <a\r\n                          className=\"d-inline\"\r\n                          href=\"https://www.facebook.com/i-Wheelsph-127061742122440/\"\r\n                        >\r\n                          Facebook Page\r\n                        </a>\r\n                        .\r\n                      </p>\r\n                      <br />\r\n                      {!isLoading ? (\r\n                        <button\r\n                          onClick={() => handleSubmit(\"Paymaya\")}\r\n                          className=\"btn btn-light mb-3\"\r\n                        >\r\n                          Confirm Order\r\n                        </button>\r\n                      ) : (\r\n                        <div className=\"lds-ring\">\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                        </div>\r\n                      )}\r\n                      <hr />\r\n                    </>\r\n                  ) : null}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PaymentMethods;\r\n"]},"metadata":{},"sourceType":"module"}