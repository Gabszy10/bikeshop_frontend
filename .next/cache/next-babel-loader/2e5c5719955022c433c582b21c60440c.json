{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\corde\\\\Desktop\\\\New folder\\\\bikeshop\\\\gabszy-flower-frontend\\\\components\\\\checkout\\\\OrderSummary.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Link from \"next/link\";\nimport { formatNumber } from \"../../helpers/function\";\nimport { decryptData } from \"../../store/actions/cartActions\";\nimport { decryptInfoData } from \"../../store/actions/infoActions\";\n\nfunction OrderSummary(props) {\n  const {\n    0: isCampaign,\n    1: setisCampaign\n  } = useState(false);\n  const {\n    0: cart,\n    1: setcart\n  } = useState([]);\n  const {\n    0: total,\n    1: settotal\n  } = useState(0);\n  useEffect(() => {\n    let decryptedData = decryptInfoData();\n\n    if (decryptedData) {\n      if (decryptedData.delivery_date.value == \"2021-02-14\") {\n        setisCampaign(true);\n      }\n    }\n  }, []);\n  useEffect(() => {\n    let myProd = props.products.length ? props.products : localStorage.getItem(process.env.CART_COOKIE) ? decryptData(localStorage.getItem(process.env.CART_COOKIE)) : [];\n\n    if (myProd.length <= 0) {\n      alert(\"You dont have any items in your cart.\");\n      return window.location.href = \"/\";\n    }\n\n    var myTotal = 0;\n\n    for (var i = 0; i < myProd.length; i++) {\n      if (isCampaign) {\n        myTotal = myTotal + myProd[i].campaign_price * myProd[i].quantity;\n      } else {\n        myTotal = myTotal + myProd[i].discount_price * myProd[i].quantity;\n      }\n    }\n\n    setcart(myProd);\n    settotal(myTotal);\n  }, [props.products, isCampaign]);\n  return __jsx(\"div\", {\n    className: \"order-table table-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(\"table\", {\n    className: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, __jsx(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, __jsx(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Product Name\"), __jsx(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"Total\"))), __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, cart.map((data, idx) => __jsx(\"tr\", {\n    key: idx,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, __jsx(\"td\", {\n    className: \"product-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, __jsx(Link, {\n    href: `/product/${data.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, data.name, \" \", \"\", \" \", data.quantity, \"x\"))), __jsx(\"td\", {\n    className: \"product-total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"subtotal-amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"\\u20B1\", isCampaign ? formatNumber(data.campaign_price * data.quantity) : formatNumber(data.discount_price * data.quantity))))), total < 800 && __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, __jsx(\"td\", {\n    className: \"order-subtotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"Service Charge\")), __jsx(\"td\", {\n    className: \"order-subtotal-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"order-subtotal-amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"\\u20B1\", formatNumber(800 - total)))), __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, __jsx(\"td\", {\n    className: \"order-subtotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"Cart Subtotal\")), __jsx(\"td\", {\n    className: \"order-subtotal-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: \"order-subtotal-amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"\\u20B1\", formatNumber(total < 800 ? 800 : total)))), __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, __jsx(\"td\", {\n    className: \"total-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, \"Order Total\")), __jsx(\"td\", {\n    className: \"product-subtotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: \"subtotal-amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, \" \", \"\\u20B1\", formatNumber(total < 800 ? 800 : total)))))), total < 800 && __jsx(\"p\", {\n    style: {\n      color: \"red\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, \"Minimum order is \\u20B1800. If order is below \\u20B1800, you will be charge to get to the 800 limit.\"));\n}\n\nconst mapStateToProps = state => {\n  return {\n    products: state.addedItems,\n    total: state.total,\n    shipping: state.shipping\n  };\n};\n\nexport default connect(mapStateToProps)(OrderSummary);","map":{"version":3,"sources":["C:/Users/corde/Desktop/New folder/bikeshop/gabszy-flower-frontend/components/checkout/OrderSummary.js"],"names":["React","useEffect","useState","connect","Link","formatNumber","decryptData","decryptInfoData","OrderSummary","props","isCampaign","setisCampaign","cart","setcart","total","settotal","decryptedData","delivery_date","value","myProd","products","length","localStorage","getItem","process","env","CART_COOKIE","alert","window","location","href","myTotal","i","campaign_price","quantity","discount_price","map","data","idx","slug","name","color","textAlign","mapStateToProps","state","addedItems","shipping"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Link from \"next/link\";\r\nimport { formatNumber } from \"../../helpers/function\";\r\nimport { decryptData } from \"../../store/actions/cartActions\";\r\nimport { decryptInfoData } from \"../../store/actions/infoActions\";\r\n\r\nfunction OrderSummary(props) {\r\n  const [isCampaign, setisCampaign] = useState(false);\r\n  const [cart, setcart] = useState([]);\r\n  const [total, settotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let decryptedData = decryptInfoData();\r\n\r\n    if (decryptedData) {\r\n      if (decryptedData.delivery_date.value == \"2021-02-14\") {\r\n        setisCampaign(true);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let myProd = props.products.length\r\n      ? props.products\r\n      : localStorage.getItem(process.env.CART_COOKIE)\r\n      ? decryptData(localStorage.getItem(process.env.CART_COOKIE))\r\n      : [];\r\n\r\n    if (myProd.length <= 0) {\r\n      alert(\"You dont have any items in your cart.\");\r\n      return (window.location.href = \"/\");\r\n    }\r\n\r\n    var myTotal = 0;\r\n    for (var i = 0; i < myProd.length; i++) {\r\n      if (isCampaign) {\r\n        myTotal = myTotal + myProd[i].campaign_price * myProd[i].quantity;\r\n      } else {\r\n        myTotal = myTotal + myProd[i].discount_price * myProd[i].quantity;\r\n      }\r\n    }\r\n\r\n    setcart(myProd);\r\n    settotal(myTotal);\r\n  }, [props.products, isCampaign]);\r\n\r\n  return (\r\n    <div className=\"order-table table-responsive\">\r\n      <table className=\"table table-bordered\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Product Name</th>\r\n            <th scope=\"col\">Total</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {cart.map((data, idx) => (\r\n            <tr key={idx}>\r\n              <td className=\"product-name\">\r\n                <Link href={`/product/${data.slug}`}>\r\n                  <a>\r\n                    {data.name} {\"\"} {data.quantity}x\r\n                  </a>\r\n                </Link>\r\n              </td>\r\n\r\n              <td className=\"product-total\">\r\n                <span className=\"subtotal-amount\">\r\n                  ₱\r\n                  {isCampaign\r\n                    ? formatNumber(data.campaign_price * data.quantity)\r\n                    : formatNumber(data.discount_price * data.quantity)}\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n\r\n          {total < 800 && (\r\n            <tr>\r\n              <td className=\"order-subtotal\">\r\n                <span>Service Charge</span>\r\n              </td>\r\n\r\n              <td className=\"order-subtotal-price\">\r\n                <span className=\"order-subtotal-amount\">\r\n                  ₱{formatNumber(800 - total)}\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          )}\r\n\r\n          <tr>\r\n            <td className=\"order-subtotal\">\r\n              <span>Cart Subtotal</span>\r\n            </td>\r\n\r\n            <td className=\"order-subtotal-price\">\r\n              <span className=\"order-subtotal-amount\">\r\n              ₱{formatNumber(total < 800 ? 800 : total)}\r\n              </span>\r\n            </td>\r\n          </tr>\r\n\r\n          {/* <tr>\r\n            <td className=\"order-shipping\">\r\n              <span>Shipping</span>\r\n            </td>\r\n\r\n            <td className=\"shipping-price\">\r\n              <span>₱150.00</span>\r\n            </td>\r\n          </tr> */}\r\n\r\n          <tr>\r\n            <td className=\"total-price\">\r\n              <span>Order Total</span>\r\n            </td>\r\n\r\n            <td className=\"product-subtotal\">\r\n              <span className=\"subtotal-amount\">\r\n                {\" \"}\r\n                ₱{formatNumber(total < 800 ? 800 : total)}\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      {total < 800 && (\r\n        <p style={{ color: \"red\", textAlign: \"center\" }}>\r\n          Minimum order is ₱800. If order is below ₱800, you will be charge to\r\n          get to the 800 limit.\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.addedItems,\r\n    total: state.total,\r\n    shipping: state.shipping,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(OrderSummary);\r\n"]},"metadata":{},"sourceType":"module"}