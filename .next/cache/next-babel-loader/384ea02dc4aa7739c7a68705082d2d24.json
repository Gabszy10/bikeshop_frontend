{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nlet host = process.env.API_URL;\nimport Link from \"next/link\";\nimport { removeItem, decryptData } from \"../../store/actions/cartActions\";\nimport { ToastContainer, toast, Slide } from \"react-toastify\";\nimport { formatNumber } from \"../../helpers/function\";\nimport { decryptInfoData } from \"../../store/actions/infoActions\";\n\nfunction Cart(props) {\n  const {\n    0: isCampaign,\n    1: setisCampaign\n  } = useState(false);\n  const {\n    0: state,\n    1: setstate\n  } = useState({\n    display: false\n  });\n  useEffect(() => {\n    let decryptedData = decryptInfoData();\n\n    if (decryptedData) {\n      if (decryptedData.delivery_date.value == \"2023-02-14\") {\n        setisCampaign(true);\n      }\n    }\n  }, []);\n\n  const handleRemove = id => {\n    props.removeItem(id);\n    toast.error(\"Removed from cart\", {\n      position: \"bottom-left\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true\n    });\n  };\n\n  const closeCart = () => {\n    props.onClick(state.display);\n  };\n\n  let {\n    products\n  } = props;\n  products = products.length ? products : localStorage.getItem(process.env.CART_COOKIE) ? decryptData(localStorage.getItem(process.env.CART_COOKIE)) : [];\n  var total = 0;\n\n  for (var i = 0; i < products.length; i++) {\n    if (isCampaign) {\n      total = total + products[i].campaign_price * products[i].quantity;\n    } else {\n      total = total + products[i].discount_price * products[i].quantity;\n    }\n  }\n\n  return __jsx(\"div\", {\n    className: \"modal right fade show shoppingCartModal\",\n    style: {\n      display: \"block\",\n      paddingRight: \"16px\"\n    }\n  }, __jsx(\"div\", {\n    className: \"modal-dialog\",\n    role: \"document\"\n  }, __jsx(\"div\", {\n    className: \"modal-content\"\n  }, __jsx(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    onClick: closeCart\n  }, __jsx(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\")), __jsx(\"div\", {\n    className: \"modal-body\"\n  }, __jsx(\"h3\", null, \"My Cart (\", products.length, \")\"), __jsx(\"div\", {\n    className: \"product-cart-content\"\n  }, products.length > 0 ? products.map((product, idx) => __jsx(\"div\", {\n    className: \"product-cart\",\n    key: idx\n  }, __jsx(\"div\", {\n    className: \"product-image\"\n  }, __jsx(\"img\", {\n    src: `${host}/products/${product.product_images[0][\"file_name\"]}`,\n    alt: \"image\"\n  })), __jsx(\"div\", {\n    className: \"product-content\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-md-6 col-sm-6\"\n  }, __jsx(\"h3\", null, __jsx(Link, {\n    href: \"#\"\n  }, __jsx(\"a\", null, product.name))), __jsx(\"div\", {\n    className: \"product-price\"\n  }, __jsx(\"span\", null, product.quantity), __jsx(\"span\", null, \"x\"), __jsx(\"span\", {\n    className: \"price\"\n  }, \"\\u20B1\", isCampaign ? formatNumber(product.campaign_price) : formatNumber(product.discount_price)))), __jsx(\"div\", {\n    className: \"col-md-6 col-sm-6\"\n  }, __jsx(Link, {\n    href: \"#\"\n  }, __jsx(\"a\", {\n    style: {\n      float: \"right\"\n    },\n    className: \"remove\",\n    onClick: e => {\n      e.preventDefault();\n      handleRemove(product.id);\n    }\n  }, __jsx(\"i\", {\n    className: \"far fa-trash-alt\"\n  })))))))) : \"Empty\"), __jsx(\"div\", {\n    className: \"product-cart-subtotal\"\n  }, __jsx(\"span\", null, \"Subtotal\"), __jsx(\"span\", {\n    className: \"subtotal\"\n  }, \"\\u20B1\", formatNumber(total))), __jsx(\"div\", {\n    className: \"product-cart-btn\"\n  }, products.length > 0 && __jsx(Link, {\n    href: \"/cart\"\n  }, __jsx(\"a\", {\n    className: \"btn btn-light\"\n  }, \"View Shopping Cart\")))))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    products: state.addedItems,\n    total: state.total //addedItems: state.addedItems\n\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    removeItem: id => {\n      dispatch(removeItem(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","map":null,"metadata":{},"sourceType":"module"}