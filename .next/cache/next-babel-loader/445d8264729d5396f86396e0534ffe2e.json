{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\corde\\\\Desktop\\\\New folder\\\\bikeshop\\\\bikeshop_frontend\\\\components\\\\cart\\\\CartContent.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { connect } from \"react-redux\";\nimport CartProduct from \"./CartProduct\";\nimport { ToastContainer, toast, Slide } from \"react-toastify\";\nimport { formatNumber, isDateBeforeToday } from \"../../helpers/function\";\nimport { addToCartAddons, decryptData } from \"../../store/actions/cartActions\";\nimport Calendar from \"../calendar/Calendar\";\nimport { decryptInfoData, encryptInfoData } from \"../../store/actions/infoActions\";\nimport ForceAddon from \"../shop-style-one/ForceAddon\";\nimport Customization from \"./Customization\";\n\nfunction CartContent(props) {\n  const {\n    0: cart,\n    1: setcart\n  } = useState([]);\n  const {\n    0: total,\n    1: settotal\n  } = useState(0);\n  const {\n    0: addon,\n    1: setAddon\n  } = useState([]);\n  const {\n    0: isCampaign,\n    1: setisCampaign\n  } = useState(false);\n  const {\n    0: state,\n    1: setstate\n  } = useState({\n    delivery_date: \"\",\n    delivery_time: \"\",\n    note: \"\",\n    message: \"\"\n  });\n  useEffect(() => {\n    let decryptedData = decryptInfoData();\n\n    if (decryptedData) {\n      if (decryptedData.delivery_date.value == \"2023-02-14\") {\n        setisCampaign(true);\n      }\n\n      setstate({\n        delivery_date: decryptedData.delivery_date.value,\n        delivery_time: decryptedData.delivery_time.value,\n        note: decryptedData.note.value,\n        message: decryptedData.message.value\n      });\n    }\n  }, []);\n  useEffect(() => {}, [addon]);\n  useEffect(() => {\n    let encryptedData = localStorage.getItem(process.env.CART_COOKIE) ? localStorage.getItem(process.env.CART_COOKIE) : [];\n    let myProd = decryptData(encryptedData);\n\n    if (myProd.length <= 0) {\n      alert(\"You dont have any items in your cart.\");\n      return window.location.href = \"/\";\n    }\n\n    var myTotal = 0;\n\n    for (var i = 0; i < myProd.length; i++) {\n      if (isCampaign) {\n        myTotal = myTotal + myProd[i].campaign_price * myProd[i].quantity;\n      } else {\n        myTotal = myTotal + myProd[i].discount_price * myProd[i].quantity;\n      }\n    }\n\n    let addonTotal = 0;\n    addon.forEach((item, i) => {\n      addonTotal += item.discount_price;\n    });\n    settotal(myTotal + addonTotal);\n  }, [cart, isCampaign, addon]);\n\n  function handleOnChange(event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    console.log(name, value);\n    setstate(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      [name]: value\n    })); // handleStateChange(event);\n  }\n\n  function handleCalendarChange(e) {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    if (value == \"2023-02-14\") {\n      setisCampaign(true);\n    } else {\n      setisCampaign(false);\n    }\n\n    setstate(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      [name]: value\n    }));\n  }\n\n  const isValid = () => {\n    // if (!state.delivery_date) {\n    //   toast.error(\"Please select delivery date.\", {\n    //     position: \"bottom-left\",\n    //     autoClose: 2000,\n    //     hideProgressBar: false,\n    //     closeOnClick: true,\n    //     pauseOnHover: true,\n    //     draggable: true,\n    //   });\n    //   return false;\n    // } else if (!state.delivery_time) {\n    //   toast.error(\"Please select delivery time.\", {\n    //     position: \"bottom-left\",\n    //     autoClose: 2000,\n    //     hideProgressBar: false,\n    //     closeOnClick: true,\n    //     pauseOnHover: true,\n    //     draggable: true,\n    //   });\n    //   return false;\n    // } else if (isDateBeforeToday(state.delivery_date)) {\n    //   toast.error(\"Please select present date.\", {\n    //     position: \"bottom-left\",\n    //     autoClose: 2000,\n    //     hideProgressBar: false,\n    //     closeOnClick: true,\n    //     pauseOnHover: true,\n    //     draggable: true,\n    //   });\n    //   return false;\n    // } else {\n    //   return true;\n    // }\n    return true;\n  };\n\n  const proceedToCheckout = () => {\n    if (isValid()) {\n      if (addon.length) {\n        props.addToCartAddons(addon, 1);\n      }\n\n      const {\n        delivery_date,\n        delivery_time,\n        note,\n        message\n      } = state;\n      let decryptedData = decryptInfoData();\n\n      if (decryptedData) {\n        let obj = _objectSpread(_objectSpread({}, decryptedData), {}, {\n          note: {\n            value: note,\n            error: \"\"\n          },\n          message: {\n            value: message,\n            error: \"\"\n          },\n          delivery_date: {\n            value: delivery_date,\n            error: \"\"\n          },\n          delivery_time: {\n            value: delivery_time,\n            error: \"\"\n          }\n        });\n\n        encryptInfoData(obj);\n      } else {\n        let obj = {\n          shipping_firstName: {\n            value: \"\",\n            error: \"\"\n          },\n          shipping_lastName: {\n            value: \"\",\n            error: \"\"\n          },\n          shipping_address: {\n            value: \"\",\n            error: \"\"\n          },\n          shipping_city: {\n            value: \"\",\n            error: \"\"\n          },\n          shipping_zip: {\n            value: \"\",\n            error: \"\"\n          },\n          billing_email: {\n            value: \"\",\n            error: \"\"\n          },\n          shipping_phone: {\n            value: \"\",\n            error: \"\"\n          },\n          billing_firstName: {\n            value: \"\",\n            error: \"\"\n          },\n          billing_lastName: {\n            value: \"\",\n            error: \"\"\n          },\n          billing_phone: {\n            value: \"\",\n            error: \"\"\n          },\n          note: {\n            value: note,\n            error: \"\"\n          },\n          message: {\n            value: message,\n            error: \"\"\n          },\n          delivery_date: {\n            value: delivery_date,\n            error: \"\"\n          },\n          delivery_time: {\n            value: delivery_time,\n            error: \"\"\n          }\n        };\n        encryptInfoData(obj);\n      }\n\n      Router.push(`/checkout`);\n    }\n  };\n\n  const getDate = num => {\n    let date = new Date();\n    date.setDate(date.getDate() + num);\n    return date;\n  };\n\n  const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  return __jsx(React.Fragment, null, __jsx(Customization, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }), __jsx(\"section\", {\n    className: \"cart-area ptb-60\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }, __jsx(ToastContainer, {\n    transition: Slide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-12 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, __jsx(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"cart-table table-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }, __jsx(CartProduct, {\n    setcart: setcart,\n    isCampaign: isCampaign,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 19\n    }\n  })), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: \"container text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-6 col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 23\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 25\n    }\n  }, \"Provinces\"), __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 25\n    }\n  }, \"(5 - 14 Days)\"), __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 25\n    }\n  }, \"Get By: \", months[getDate(0).getMonth()], \" \", getDate(5).getDate(), \" - \", getDate(14).getDate(), \" \"))), __jsx(\"div\", {\n    className: \"col-lg-6 col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 23\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 25\n    }\n  }, \"Metro Manila\"), __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 25\n    }\n  }, \"(1 - 7 Days)\"), __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 25\n    }\n  }, \"Get By: \", months[getDate(0).getMonth()], \" \", getDate(1).getDate(), \" - \", getDate(7).getDate(), \" \"))))), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: \"col-lg-12 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 19\n    }\n  }, __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 21\n    }\n  }, \"Delivery Instruction (Optional)\", \" \", __jsx(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 23\n    }\n  }, \"*\")), __jsx(\"textarea\", {\n    name: \"note\",\n    id: \"notes\",\n    cols: \"30\",\n    rows: \"6\",\n    value: state.note,\n    onChange: handleOnChange,\n    placeholder: \"Instruction to delivery rider\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 21\n    }\n  }))), __jsx(\"div\", {\n    className: \"col-lg-12 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 19\n    }\n  }, __jsx(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 21\n    }\n  }, \"Message (Optional) \", __jsx(\"span\", {\n    className: \"required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 42\n    }\n  }, \"*\")), __jsx(\"textarea\", {\n    name: \"message\",\n    id: \"messages\",\n    cols: \"30\",\n    rows: \"6\",\n    value: state.message,\n    onChange: handleOnChange,\n    placeholder: \"Your message to receiver\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 21\n    }\n  }))), __jsx(ForceAddon, {\n    setAddon: setAddon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: \"cart-totals\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 17\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 19\n    }\n  }, \"Cart Totals\"), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 19\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 21\n    }\n  }, \"Subtotal \", __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 32\n    }\n  }, \"\\u20B1\", formatNumber(total))), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 21\n    }\n  }, \"Total\", \" \", __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 23\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 25\n    }\n  }, \"\\u20B1\", formatNumber(total))))), total < 800 && __jsx(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 21\n    }\n  }, \"Minimum order is \\u20B1800. If order is below \\u20B1800, you will be charge to get to the 800 limit.\"), __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 21\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 23\n    }\n  }, __jsx(\"a\", {\n    style: {\n      marginBottom: \"0.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 25\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-angle-double-left\",\n    style: {\n      marginRight: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 27\n    }\n  }), \"Back to Shop\"))), __jsx(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 21\n    }\n  }, __jsx(\"button\", {\n    type: \"button\",\n    onClick: proceedToCheckout,\n    className: \"btn btn-light proceed-checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 23\n    }\n  }, \"CONTINUE\"))))))))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    products: state.addedItems,\n    total: state.total,\n    shipping: state.shipping\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addShipping: () => {\n      dispatch({\n        type: \"ADD_SHIPPING\"\n      });\n    },\n    substractShipping: () => {\n      dispatch({\n        type: \"SUB_SHIPPING\"\n      });\n    },\n    addToCartAddons: (products, qty) => {\n      dispatch(addToCartAddons(products, qty));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CartContent);","map":{"version":3,"sources":["C:/Users/corde/Desktop/New folder/bikeshop/bikeshop_frontend/components/cart/CartContent.js"],"names":["React","useEffect","useState","Link","Router","connect","CartProduct","ToastContainer","toast","Slide","formatNumber","isDateBeforeToday","addToCartAddons","decryptData","Calendar","decryptInfoData","encryptInfoData","ForceAddon","Customization","CartContent","props","cart","setcart","total","settotal","addon","setAddon","isCampaign","setisCampaign","state","setstate","delivery_date","delivery_time","note","message","decryptedData","value","encryptedData","localStorage","getItem","process","env","CART_COOKIE","myProd","length","alert","window","location","href","myTotal","i","campaign_price","quantity","discount_price","addonTotal","forEach","item","handleOnChange","event","name","target","console","log","prevState","handleCalendarChange","e","isValid","proceedToCheckout","obj","error","shipping_firstName","shipping_lastName","shipping_address","shipping_city","shipping_zip","billing_email","shipping_phone","billing_firstName","billing_lastName","billing_phone","push","getDate","num","date","Date","setDate","months","getMonth","color","marginBottom","marginRight","mapStateToProps","products","addedItems","shipping","mapDispatchToProps","dispatch","addShipping","type","substractShipping","qty"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Router from \"next/router\";\r\nimport { connect } from \"react-redux\";\r\nimport CartProduct from \"./CartProduct\";\r\nimport { ToastContainer, toast, Slide } from \"react-toastify\";\r\nimport { formatNumber, isDateBeforeToday } from \"../../helpers/function\";\r\nimport { addToCartAddons, decryptData } from \"../../store/actions/cartActions\";\r\nimport Calendar from \"../calendar/Calendar\";\r\nimport {\r\n  decryptInfoData,\r\n  encryptInfoData,\r\n} from \"../../store/actions/infoActions\";\r\nimport ForceAddon from \"../shop-style-one/ForceAddon\";\r\nimport Customization from \"./Customization\";\r\n\r\nfunction CartContent(props) {\r\n  const [cart, setcart] = useState([]);\r\n  const [total, settotal] = useState(0);\r\n  const [addon, setAddon] = useState([]);\r\n  const [isCampaign, setisCampaign] = useState(false);\r\n  const [state, setstate] = useState({\r\n    delivery_date: \"\",\r\n    delivery_time: \"\",\r\n    note: \"\",\r\n    message: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    let decryptedData = decryptInfoData();\r\n\r\n    if (decryptedData) {\r\n      if (decryptedData.delivery_date.value == \"2023-02-14\") {\r\n        setisCampaign(true);\r\n      }\r\n\r\n      setstate({\r\n        delivery_date: decryptedData.delivery_date.value,\r\n        delivery_time: decryptedData.delivery_time.value,\r\n        note: decryptedData.note.value,\r\n        message: decryptedData.message.value,\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {}, [addon]);\r\n\r\n  useEffect(() => {\r\n    let encryptedData = localStorage.getItem(process.env.CART_COOKIE)\r\n      ? localStorage.getItem(process.env.CART_COOKIE)\r\n      : [];\r\n\r\n    let myProd = decryptData(encryptedData);\r\n\r\n    if (myProd.length <= 0) {\r\n      alert(\"You dont have any items in your cart.\");\r\n      return (window.location.href = \"/\");\r\n    }\r\n\r\n    var myTotal = 0;\r\n    for (var i = 0; i < myProd.length; i++) {\r\n      if (isCampaign) {\r\n        myTotal = myTotal + myProd[i].campaign_price * myProd[i].quantity;\r\n      } else {\r\n        myTotal = myTotal + myProd[i].discount_price * myProd[i].quantity;\r\n      }\r\n    }\r\n\r\n    let addonTotal = 0;\r\n    addon.forEach((item, i) => {\r\n      addonTotal += item.discount_price;\r\n    });\r\n\r\n    settotal(myTotal + addonTotal);\r\n  }, [cart, isCampaign, addon]);\r\n\r\n  function handleOnChange(event) {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n\r\n    console.log(name, value);\r\n\r\n    setstate((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n\r\n    // handleStateChange(event);\r\n  }\r\n\r\n  function handleCalendarChange(e) {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n\r\n    if (value == \"2023-02-14\") {\r\n      setisCampaign(true);\r\n    } else {\r\n      setisCampaign(false);\r\n    }\r\n\r\n    setstate((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  }\r\n\r\n  const isValid = () => {\r\n    // if (!state.delivery_date) {\r\n    //   toast.error(\"Please select delivery date.\", {\r\n    //     position: \"bottom-left\",\r\n    //     autoClose: 2000,\r\n    //     hideProgressBar: false,\r\n    //     closeOnClick: true,\r\n    //     pauseOnHover: true,\r\n    //     draggable: true,\r\n    //   });\r\n    //   return false;\r\n    // } else if (!state.delivery_time) {\r\n    //   toast.error(\"Please select delivery time.\", {\r\n    //     position: \"bottom-left\",\r\n    //     autoClose: 2000,\r\n    //     hideProgressBar: false,\r\n    //     closeOnClick: true,\r\n    //     pauseOnHover: true,\r\n    //     draggable: true,\r\n    //   });\r\n    //   return false;\r\n    // } else if (isDateBeforeToday(state.delivery_date)) {\r\n    //   toast.error(\"Please select present date.\", {\r\n    //     position: \"bottom-left\",\r\n    //     autoClose: 2000,\r\n    //     hideProgressBar: false,\r\n    //     closeOnClick: true,\r\n    //     pauseOnHover: true,\r\n    //     draggable: true,\r\n    //   });\r\n    //   return false;\r\n    // } else {\r\n    //   return true;\r\n    // }\r\n\r\n    return true;\r\n  };\r\n\r\n  const proceedToCheckout = () => {\r\n    if (isValid()) {\r\n      if (addon.length) {\r\n        props.addToCartAddons(addon, 1);\r\n      }\r\n\r\n      const { delivery_date, delivery_time, note, message } = state;\r\n      let decryptedData = decryptInfoData();\r\n      if (decryptedData) {\r\n        let obj = {\r\n          ...decryptedData,\r\n          note: { value: note, error: \"\" },\r\n          message: { value: message, error: \"\" },\r\n          delivery_date: { value: delivery_date, error: \"\" },\r\n          delivery_time: { value: delivery_time, error: \"\" },\r\n        };\r\n        encryptInfoData(obj);\r\n      } else {\r\n        let obj = {\r\n          shipping_firstName: { value: \"\", error: \"\" },\r\n          shipping_lastName: { value: \"\", error: \"\" },\r\n          shipping_address: { value: \"\", error: \"\" },\r\n          shipping_city: { value: \"\", error: \"\" },\r\n          shipping_zip: { value: \"\", error: \"\" },\r\n          billing_email: { value: \"\", error: \"\" },\r\n          shipping_phone: { value: \"\", error: \"\" },\r\n          billing_firstName: { value: \"\", error: \"\" },\r\n          billing_lastName: { value: \"\", error: \"\" },\r\n          billing_phone: { value: \"\", error: \"\" },\r\n          note: { value: note, error: \"\" },\r\n          message: { value: message, error: \"\" },\r\n          delivery_date: { value: delivery_date, error: \"\" },\r\n          delivery_time: { value: delivery_time, error: \"\" },\r\n        };\r\n\r\n        encryptInfoData(obj);\r\n      }\r\n\r\n      Router.push(`/checkout`);\r\n    }\r\n  };\r\n\r\n  const getDate = (num) => {\r\n    let date = new Date();\r\n    date.setDate(date.getDate() + num);\r\n\r\n    return date;\r\n  };\r\n\r\n  const months = [\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\",\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Customization />\r\n\r\n      <section className=\"cart-area ptb-60\">\r\n        <ToastContainer transition={Slide} />\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12 col-md-12\">\r\n              <form>\r\n                <div className=\"cart-table table-responsive\">\r\n                  <CartProduct setcart={setcart} isCampaign={isCampaign} />\r\n                </div>\r\n\r\n                <br />\r\n\r\n                <div className=\"container text-center\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-lg-6 col-md-6\">\r\n                      <div>\r\n                        <h4>Provinces</h4>\r\n                        <h5>(5 - 14 Days)</h5>\r\n                        <h5>\r\n                          Get By: {months[getDate(0).getMonth()]}{\" \"}\r\n                          {getDate(5).getDate()} - {getDate(14).getDate()}{\" \"}\r\n                        </h5>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-lg-6 col-md-6\">\r\n                      <div>\r\n                        <h4>Metro Manila</h4>\r\n                        <h5>(1 - 7 Days)</h5>\r\n                        <h5>\r\n                          Get By: {months[getDate(0).getMonth()]}{\" \"}\r\n                          {getDate(1).getDate()} - {getDate(7).getDate()}{\" \"}\r\n                        </h5>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <br />\r\n\r\n                <div className=\"col-lg-12 col-md-12\">\r\n                  <div className=\"form-group\">\r\n                    <label>\r\n                      Delivery Instruction (Optional){\" \"}\r\n                      <span className=\"required\">*</span>\r\n                    </label>\r\n                    <textarea\r\n                      name=\"note\"\r\n                      id=\"notes\"\r\n                      cols=\"30\"\r\n                      rows=\"6\"\r\n                      value={state.note}\r\n                      onChange={handleOnChange}\r\n                      placeholder=\"Instruction to delivery rider\"\r\n                      className=\"form-control\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-lg-12 col-md-12\">\r\n                  <div className=\"form-group\">\r\n                    <label>\r\n                      Message (Optional) <span className=\"required\">*</span>\r\n                    </label>\r\n                    <textarea\r\n                      name=\"message\"\r\n                      id=\"messages\"\r\n                      cols=\"30\"\r\n                      rows=\"6\"\r\n                      value={state.message}\r\n                      onChange={handleOnChange}\r\n                      placeholder=\"Your message to receiver\"\r\n                      className=\"form-control\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <ForceAddon setAddon={setAddon} />\r\n\r\n                <div className=\"cart-totals\">\r\n                  <h3>Cart Totals</h3>\r\n\r\n                  <ul>\r\n                    <li>\r\n                      Subtotal <span>₱{formatNumber(total)}</span>\r\n                    </li>\r\n                    {/* <li>\r\n                    Shipping <span>₱150.00</span>\r\n                  </li> */}\r\n                    <li>\r\n                      Total{\" \"}\r\n                      <span>\r\n                        <b>₱{formatNumber(total)}</b>\r\n                      </span>\r\n                    </li>\r\n                  </ul>\r\n\r\n                  {total < 800 && (\r\n                    <p style={{ color: \"red\" }}>\r\n                      Minimum order is ₱800. If order is below ₱800, you will be\r\n                      charge to get to the 800 limit.\r\n                    </p>\r\n                  )}\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      <Link href=\"/\">\r\n                        <a style={{ marginBottom: \"0.5rem\" }}>\r\n                          <i\r\n                            className=\"fas fa-angle-double-left\"\r\n                            style={{ marginRight: \"5px\" }}\r\n                          ></i>\r\n                          Back to Shop\r\n                        </a>\r\n                      </Link>\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={proceedToCheckout}\r\n                        className=\"btn btn-light proceed-checkout\"\r\n                      >\r\n                        CONTINUE\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.addedItems,\r\n    total: state.total,\r\n    shipping: state.shipping,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addShipping: () => {\r\n      dispatch({ type: \"ADD_SHIPPING\" });\r\n    },\r\n    substractShipping: () => {\r\n      dispatch({ type: \"SUB_SHIPPING\" });\r\n    },\r\n    addToCartAddons: (products, qty) => {\r\n      dispatch(addToCartAddons(products, qty));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartContent);\r\n"]},"metadata":{},"sourceType":"module"}