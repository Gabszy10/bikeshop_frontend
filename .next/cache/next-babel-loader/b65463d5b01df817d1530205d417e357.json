{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\corde\\\\Desktop\\\\New folder\\\\bikeshop\\\\bikeshop_frontend\\\\components\\\\Layout\\\\MegaMenu.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Link from \"next/link\";\nimport Cart from \"../Modal/Cart\";\nimport { decryptData } from \"../../store/actions/cartActions\";\nimport axios from \"axios\";\nvar host = process.env.API_URL;\n\nfunction MegaMenu(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(0),\n      cartLength = _useState[0],\n      setcartLength = _useState[1];\n\n  var _useState2 = useState({\n    display: false,\n    searchForm: false,\n    collapsed: true,\n    checkCart: false\n  }),\n      state = _useState2[0],\n      setstate = _useState2[1];\n\n  var _useState3 = useState([]),\n      categories = _useState3[0],\n      setcategories = _useState3[1];\n\n  var handleCart = function handleCart() {\n    setstate(function (prevState) {\n      return {\n        display: !prevState.display,\n        collapsed: true\n      };\n    });\n  };\n\n  var handleSearchForm = function handleSearchForm() {\n    setstate(function (prevState) {\n      return {\n        searchForm: !prevState.searchForm\n      };\n    });\n  };\n\n  var toggleNavbar = function toggleNavbar() {\n    setstate({\n      collapsed: !state.collapsed\n    });\n  };\n\n  console.log(state);\n\n  var fetchCategories = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"\".concat(host, \"/api/user/category/\"));\n\n            case 3:\n              res = _context.sent;\n\n              if (res) {\n                setcategories(res.data.categories);\n              }\n\n              _context.next = 9;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function fetchCategories() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchCategories();\n  }, []);\n  useEffect(function () {\n    var myProd = localStorage.getItem(process.env.CART_COOKIE) ? localStorage.getItem(process.env.CART_COOKIE) : [];\n    var decryptedData = decryptData(myProd);\n    setcartLength(decryptedData.length);\n  }, [props.products]);\n  useEffect(function () {\n    var elementId = document.getElementById(\"navbar\");\n    document.addEventListener(\"scroll\", function () {\n      if (window.scrollY > 170) {\n        elementId.classList.add(\"is-sticky\");\n      } else {\n        elementId.classList.remove(\"is-sticky\");\n      }\n    });\n    window.scrollTo(0, 0);\n  }, []);\n  var collapsed = state.collapsed;\n  var classOne = collapsed ? \"collapse navbar-collapse\" : \"collapse navbar-collapse show\";\n  var classTwo = collapsed ? \"navbar-toggler navbar-toggler-right collapsed\" : \"navbar-toggler navbar-toggler-right\";\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"navbar-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    id: \"navbar\",\n    className: \"comero-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, __jsx(\"nav\", {\n    className: \"navbar navbar-expand-md navbar-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    onClick: toggleNavbar,\n    className: classTwo,\n    type: \"button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#navbarSupportedContent\",\n    \"aria-controls\": \"navbarSupportedContent\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: \"navbar-toggler-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  })), __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: require(\"../../images/logos/logo.png\"),\n    alt: \"\",\n    style: {\n      width: \"10rem\"\n    },\n    className: \"navbar_logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: \"view_cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"notification\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-shopping-bag\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      handleCart();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }), __jsx(\"span\", {\n    className: \"badge\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n      handleCart();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, cartLength))), __jsx(\"div\", {\n    className: classOne,\n    id: \"navbarSupportedContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, __jsx(\"ul\", {\n    className: \"navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, categories.length ? __jsx(React.Fragment, null, categories.map(function (category, i) {\n    if (category.status) {\n      if (category.sub_categories.length) {\n        return __jsx(\"li\", {\n          key: i,\n          className: \"nav-item p-relative\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 31\n          }\n        }, __jsx(Link, {\n          key: i,\n          href: \"#\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 33\n          }\n        }, __jsx(\"a\", {\n          className: \"nav-link\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 35\n          }\n        }, category.name, \" \", __jsx(\"i\", {\n          className: \"fas fa-chevron-down\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 37\n          }\n        }))), __jsx(\"ul\", {\n          className: \"dropdown-menu\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 33\n          }\n        }, category.sub_categories.map(function (subCat, i) {\n          return __jsx(\"li\", {\n            key: i,\n            className: \"nav-item\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 39\n            }\n          }, __jsx(Link, {\n            href: \"/subcategory/\".concat(subCat.slug),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 41\n            }\n          }, __jsx(\"a\", {\n            className: \"nav-link\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 43\n            }\n          }, subCat.name)));\n        })));\n      } else {\n        return __jsx(\"li\", {\n          key: i,\n          className: \"nav-item megamenu\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 31\n          }\n        }, __jsx(Link, {\n          href: \"/category/\".concat(category.slug),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 33\n          }\n        }, __jsx(\"a\", {\n          className: \"nav-link\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 35\n          }\n        }, category.name)));\n      }\n    }\n  })) : null), __jsx(\"div\", {\n    className: \"others-option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"option-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 19\n    }\n  }, __jsx(\"i\", {\n    onClick: handleSearchForm,\n    className: \"search-btn fas fa-search\",\n    style: {\n      display: state.searchForm ? \"none\" : \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 21\n    }\n  }), __jsx(\"i\", {\n    onClick: handleSearchForm,\n    className: \"close-btn fas fa-times \".concat(state.searchForm ? \"active\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \"search-overlay search-popup\",\n    style: {\n      display: state.searchForm ? \"block\" : \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"search-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 23\n    }\n  }, __jsx(\"form\", {\n    action: \"/search\",\n    className: \"search-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    className: \"search-input\",\n    name: \"search\",\n    placeholder: \"Search\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 27\n    }\n  }), __jsx(\"button\", {\n    className: \"search-button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 27\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 29\n    }\n  })))))), __jsx(\"div\", {\n    className: \"option-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 19\n    }\n  }, __jsx(Link, {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    onClick: function onClick(e) {\n      e.preventDefault();\n      handleCart();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 23\n    }\n  }, \"Cart(\", cartLength, \")\", \" \", __jsx(\"i\", {\n    className: \"fas fa-shopping-bag\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 25\n    }\n  })))))))))), state.display ? __jsx(Cart, {\n    onClick: handleCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 24\n    }\n  }) : \"\");\n}\n\n_s(MegaMenu, \"uuV7lEOtzXm8YS1R/VnwVS509G8=\");\n\n_c = MegaMenu;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    products: state.addedItems\n  };\n};\n\nexport default connect(mapStateToProps)(MegaMenu);\n\nvar _c;\n\n$RefreshReg$(_c, \"MegaMenu\");","map":{"version":3,"sources":["C:/Users/corde/Desktop/New folder/bikeshop/bikeshop_frontend/components/Layout/MegaMenu.js"],"names":["React","useEffect","useState","connect","Link","Cart","decryptData","axios","host","process","env","API_URL","MegaMenu","props","cartLength","setcartLength","display","searchForm","collapsed","checkCart","state","setstate","categories","setcategories","handleCart","prevState","handleSearchForm","toggleNavbar","console","log","fetchCategories","get","res","data","myProd","localStorage","getItem","CART_COOKIE","decryptedData","length","products","elementId","document","getElementById","addEventListener","window","scrollY","classList","add","remove","scrollTo","classOne","classTwo","require","width","e","preventDefault","map","category","i","status","sub_categories","name","subCat","slug","mapStateToProps","addedItems"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Link from \"next/link\";\r\nimport Cart from \"../Modal/Cart\";\r\nimport { decryptData } from \"../../store/actions/cartActions\";\r\nimport axios from \"axios\";\r\n\r\nlet host = process.env.API_URL;\r\n\r\nfunction MegaMenu(props) {\r\n  const [cartLength, setcartLength] = useState(0);\r\n\r\n  const [state, setstate] = useState({\r\n    display: false,\r\n    searchForm: false,\r\n    collapsed: true,\r\n    checkCart: false,\r\n  });\r\n\r\n  const [categories, setcategories] = useState([]);\r\n\r\n  const handleCart = () => {\r\n    setstate((prevState) => {\r\n      return {\r\n        display: !prevState.display,\r\n        collapsed: true,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleSearchForm = () => {\r\n    setstate((prevState) => {\r\n      return {\r\n        searchForm: !prevState.searchForm,\r\n      };\r\n    });\r\n  };\r\n\r\n  const toggleNavbar = () => {\r\n    setstate({\r\n      collapsed: !state.collapsed,\r\n    });\r\n  };\r\n  console.log(state);\r\n  const fetchCategories = async () => {\r\n    try {\r\n      let res = await axios.get(`${host}/api/user/category/`);\r\n      if (res) {\r\n        setcategories(res.data.categories);\r\n      }\r\n    } catch (error) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let myProd = localStorage.getItem(process.env.CART_COOKIE)\r\n      ? localStorage.getItem(process.env.CART_COOKIE)\r\n      : [];\r\n    let decryptedData = decryptData(myProd);\r\n    setcartLength(decryptedData.length);\r\n  }, [props.products]);\r\n\r\n  useEffect(() => {\r\n    let elementId = document.getElementById(\"navbar\");\r\n    document.addEventListener(\"scroll\", () => {\r\n      if (window.scrollY > 170) {\r\n        elementId.classList.add(\"is-sticky\");\r\n      } else {\r\n        elementId.classList.remove(\"is-sticky\");\r\n      }\r\n    });\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  const { collapsed } = state;\r\n  const classOne = collapsed\r\n    ? \"collapse navbar-collapse\"\r\n    : \"collapse navbar-collapse show\";\r\n  const classTwo = collapsed\r\n    ? \"navbar-toggler navbar-toggler-right collapsed\"\r\n    : \"navbar-toggler navbar-toggler-right\";\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"navbar-area\">\r\n        <div id=\"navbar\" className=\"comero-nav\">\r\n          <div className=\"container\">\r\n            <nav className=\"navbar navbar-expand-md navbar-light\">\r\n              <button\r\n                onClick={toggleNavbar}\r\n                className={classTwo}\r\n                type=\"button\"\r\n                data-toggle=\"collapse\"\r\n                data-target=\"#navbarSupportedContent\"\r\n                aria-controls=\"navbarSupportedContent\"\r\n                aria-expanded=\"false\"\r\n                aria-label=\"Toggle navigation\"\r\n              >\r\n                <span className=\"navbar-toggler-icon\"></span>\r\n              </button>\r\n\r\n              <Link href=\"/\">\r\n                <img\r\n                  src={require(\"../../images/logos/logo.png\")}\r\n                  alt=\"\"\r\n                  style={{ width: \"10rem\" }}\r\n                  className=\"navbar_logo\"\r\n                />\r\n              </Link>\r\n\r\n              <div className=\"view_cart\">\r\n                <div className=\"notification\">\r\n                  <i\r\n                    className=\"fas fa-shopping-bag\"\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      handleCart();\r\n                    }}\r\n                  ></i>\r\n                  <span\r\n                    className=\"badge\"\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      handleCart();\r\n                    }}\r\n                  >\r\n                    {cartLength}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className={classOne} id=\"navbarSupportedContent\">\r\n                <ul className=\"navbar-nav\">\r\n                  {/*{categories.length ? (\r\n                    <>\r\n                      {categories.map((category, i) => {\r\n                        if (category.status) {\r\n                          if (category.sub_categories.length) {\r\n                            return (\r\n                              <li key={i} className=\"nav-item p-relative\">\r\n                                <Link key={i} href=\"#\">\r\n                                  <a className=\"nav-link\">\r\n                                    {category.name}{\" \"}\r\n                                    <i className=\"fas fa-chevron-down\"></i>\r\n                                  </a>\r\n                                </Link>\r\n\r\n                                <ul className=\"dropdown-menu\">\r\n                                  {category.sub_categories.map((subCat, i) => {\r\n                                    return (\r\n                                      <li key={i} className=\"nav-item\">\r\n                                        <Link\r\n                                          href={`/subcategory/${subCat.slug}`}\r\n                                        >\r\n                                          <a className=\"nav-link\">\r\n                                            {subCat.name}\r\n                                          </a>\r\n                                        </Link>\r\n                                      </li>\r\n                                    );\r\n                                  })}\r\n                                </ul>\r\n                              </li>\r\n                            );\r\n                          } else {\r\n                            return (\r\n                              <li key={i} className=\"nav-item megamenu\">\r\n                                <Link href={`/category/${category.slug}`}>\r\n                                  <a className=\"nav-link\">{category.name}</a>\r\n                                </Link>\r\n                              </li>\r\n                            );\r\n                          }\r\n                        }\r\n                      })}\r\n                    </>\r\n                  ) : null} */}\r\n\r\n                  {categories.length ? (\r\n                    <>\r\n                      {categories.map((category, i) => {\r\n                        if (category.status) {\r\n                          if (category.sub_categories.length) {\r\n                            return (\r\n                              <li key={i} className=\"nav-item p-relative\">\r\n                                <Link key={i} href=\"#\">\r\n                                  <a className=\"nav-link\">\r\n                                    {category.name}{\" \"}\r\n                                    <i className=\"fas fa-chevron-down\"></i>\r\n                                  </a>\r\n                                </Link>\r\n\r\n                                <ul className=\"dropdown-menu\">\r\n                                  {category.sub_categories.map((subCat, i) => {\r\n                                    return (\r\n                                      <li key={i} className=\"nav-item\">\r\n                                        <Link\r\n                                          href={`/subcategory/${subCat.slug}`}\r\n                                        >\r\n                                          <a className=\"nav-link\">\r\n                                            {subCat.name}\r\n                                          </a>\r\n                                        </Link>\r\n                                      </li>\r\n                                    );\r\n                                  })}\r\n                                </ul>\r\n                              </li>\r\n                            );\r\n                          } else {\r\n                            return (\r\n                              <li key={i} className=\"nav-item megamenu\">\r\n                                <Link href={`/category/${category.slug}`}>\r\n                                  <a className=\"nav-link\">{category.name}</a>\r\n                                </Link>\r\n                              </li>\r\n                            );\r\n                          }\r\n                        }\r\n                      })}\r\n                    </>\r\n                  ) : null}\r\n\r\n                  {/* <li className=\"nav-item megamenu\">\r\n                    <Link href=\"#\">\r\n                      <a className=\"nav-link\">Road bike</a>\r\n                    </Link>\r\n                  </li>\r\n\r\n                  <li className=\"nav-item megamenu\">\r\n                    <Link href=\"#\">\r\n                      <a className=\"nav-link\">Mountain bike</a>\r\n                    </Link>\r\n                  </li>\r\n                  \r\n                  <li className=\"nav-item megamenu\">\r\n                    <Link href=\"#\">\r\n                      <a className=\"nav-link\">Fixie bike</a>\r\n                    </Link>\r\n                  </li>\r\n\r\n                  <li className=\"nav-item megamenu\">\r\n                    <Link href=\"#\">\r\n                      <a className=\"nav-link\">E-bike</a>\r\n                    </Link>\r\n                  </li> */}\r\n\r\n                  {/* <li className=\"nav-item p-relative\">\r\n                    <Link href=\"#\">\r\n                      <a className=\"nav-link\">\r\n                        Budget <i className=\"fas fa-chevron-down\"></i>\r\n                      </a>\r\n                    </Link>\r\n\r\n                    <ul className=\"dropdown-menu\">\r\n                      <li className=\"nav-item\">\r\n                        <Link href=\"/budget?f=0&t=1500\">\r\n                          <a className=\"nav-link\">BELOW ₱1,500</a>\r\n                        </Link>\r\n                      </li>\r\n\r\n                      <li className=\"nav-item\">\r\n                        <Link href=\"/budget?f=1500&t=3000\">\r\n                          <a className=\"nav-link\">₱1,500 - ₱3,000</a>\r\n                        </Link>\r\n                      </li>\r\n\r\n                      <li className=\"nav-item\">\r\n                        <Link href=\"/budget?f=3000&t=4500\">\r\n                          <a className=\"nav-link\">₱3,000 - ₱4,500</a>\r\n                        </Link>\r\n                      </li>\r\n\r\n                      <li className=\"nav-item\">\r\n                        <Link href=\"/budget?f=4500&t=1000000\">\r\n                          <a className=\"nav-link\">₱4,500 AND ABOVE</a>\r\n                        </Link>\r\n                      </li>\r\n                    </ul>\r\n                  </li> */}\r\n                </ul>\r\n\r\n                <div className=\"others-option\">\r\n                  <div className=\"option-item\">\r\n                    <i\r\n                      onClick={handleSearchForm}\r\n                      className=\"search-btn fas fa-search\"\r\n                      style={{\r\n                        display: state.searchForm ? \"none\" : \"block\",\r\n                      }}\r\n                    ></i>\r\n\r\n                    <i\r\n                      onClick={handleSearchForm}\r\n                      className={`close-btn fas fa-times ${\r\n                        state.searchForm ? \"active\" : \"\"\r\n                      }`}\r\n                    ></i>\r\n\r\n                    <div\r\n                      className=\"search-overlay search-popup\"\r\n                      style={{\r\n                        display: state.searchForm ? \"block\" : \"none\",\r\n                      }}\r\n                    >\r\n                      <div className=\"search-box\">\r\n                        <form action=\"/search\" className=\"search-form\">\r\n                          <input\r\n                            className=\"search-input\"\r\n                            name=\"search\"\r\n                            placeholder=\"Search\"\r\n                            type=\"text\"\r\n                          />\r\n                          <button className=\"search-button\" type=\"submit\">\r\n                            <i className=\"fas fa-search\"></i>\r\n                          </button>\r\n                        </form>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"option-item\">\r\n                    <Link href=\"#\">\r\n                      <a\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          handleCart();\r\n                        }}\r\n                      >\r\n                        Cart({cartLength}){\" \"}\r\n                        <i className=\"fas fa-shopping-bag\"></i>\r\n                      </a>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {state.display ? <Cart onClick={handleCart} /> : \"\"}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.addedItems,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(MegaMenu);\r\n"]},"metadata":{},"sourceType":"module"}