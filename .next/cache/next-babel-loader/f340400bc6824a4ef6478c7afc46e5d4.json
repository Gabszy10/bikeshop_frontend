{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\corde\\\\Desktop\\\\New folder\\\\bikeshop\\\\bikeshop_frontend\\\\components\\\\payments\\\\PaymentMethods.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport OrderSummary from \"../checkout/OrderSummary\";\nimport Link from \"next/link\";\nimport ShippingSummary from \"../checkout/ShippingSummary\";\nimport { decryptData, clearData, encryptData } from \"../../store/actions/cartActions\";\nimport { decryptInfoData, encryptString } from \"../../store/actions/infoActions\";\nimport axios from \"axios\";\nimport Router from \"next/router\";\nimport Paypal from \"./Paypal\";\nimport cookie from \"js-cookie\";\nimport { formatDate } from \"../../helpers/function\";\nimport { Slide, toast, ToastContainer } from \"react-toastify\";\nimport { useDispatch } from \"react-redux\";\nimport CreditCard from \"./CreditCard\";\nlet host = process.env.API_URL;\n\nfunction PaymentMethods() {\n  const dispatch = useDispatch();\n  const {\n    0: selectedPayment,\n    1: setselectedPayment\n  } = useState(\"\");\n  const {\n    0: isCampaign,\n    1: setisCampaign\n  } = useState(false);\n  const {\n    0: isLoading,\n    1: setisLoading\n  } = useState(false);\n  const {\n    0: isCodOn,\n    1: setisCodOn\n  } = useState(false);\n  const {\n    0: total,\n    1: setTotal\n  } = useState(0);\n  useEffect(() => {\n    let encryptedInfoData = localStorage.getItem(process.env.INFO_COOKIE);\n    let stateSchema = decryptInfoData(encryptedInfoData);\n\n    if (stateSchema.shipping_city.value.toLowerCase().includes(\"makati\") || stateSchema.shipping_address.value.toLowerCase().includes(\"makati\") || [1226, 1233, 1209, 1214, 1217, 1221, 1222, 1219, 1220, 1202, 1201, 1228, 1212, 1211, 1206, 1204, 1229, 1232, 1224, 1200, 1207, 1235, 1231, 1218, 1213, 1230, 1210, 1216, 1215, 1227, 1203, 1234, 1223, 1205, 1225, 1208].includes(parseInt(stateSchema.shipping_zip.value))) {\n      setisCodOn(true);\n    }\n\n    let decryptedData = decryptInfoData();\n\n    if (decryptedData) {\n      if (decryptedData.delivery_date.value == \"2023-02-14\") {\n        setisCampaign(true);\n      }\n    } // toast.error(err.response.data[0].message);\n    // console.log(, \"HEYYYY\");\n\n  }, []);\n  useEffect(() => {\n    let encryptedData = localStorage.getItem(process.env.CART_COOKIE);\n    let cart = decryptData(encryptedData);\n    let amount = 0;\n    let items = [];\n\n    for (let i = 0; i < cart.length; i++) {\n      amount = amount + cart[i].discount_price * cart[i].quantity;\n    }\n\n    amount = amount + 120;\n    alert(amount);\n  }, []);\n\n  const handleChange = value => {\n    setselectedPayment(value);\n  };\n\n  const fetchUser = async token => {\n    try {\n      let res = await axios.get(`${host}/api/user/user/details`, {\n        headers: {\n          Authorization: token\n        }\n      });\n\n      if (res.data.userDetails) {\n        return res.data.userDetails[\"id\"];\n      } else {\n        return 0;\n      }\n    } catch (error) {\n      localStorage.removeItem(\"token\");\n      this.props.history.push(\"/login\");\n      toast.error(\"Your token is invalid or expired.\");\n    }\n  };\n\n  const handleChangePrice = products => {\n    let cartStorage = localStorage.getItem(process.env.CART_COOKIE);\n    let cartArray = decryptData(cartStorage);\n\n    for (let i = 0; i < products.length; i++) {\n      const el = products[i];\n      var index = cartArray.findIndex(item => item.id === el.productId);\n\n      if (index > -1) {\n        cartArray[index][\"campaign_price\"] = el.campaign_price;\n        cartArray[index][\"discount_price\"] = el.discount_price;\n      }\n\n      let encryptedData = encryptData(JSON.stringify(cartArray));\n      localStorage.setItem(process.env.CART_COOKIE, encryptedData);\n      dispatch((() => {\n        return {\n          type: \"UPDATE_CART\"\n        };\n      })());\n    }\n  };\n\n  const handleSubmit = async paymentMethod => {\n    let userId = 0;\n    let token = cookie.get(\"_wus_BJK\");\n\n    if (token) {\n      try {\n        userId = await fetchUser(token);\n      } catch (error) {}\n    }\n\n    setisLoading(true);\n    let encryptedData = localStorage.getItem(process.env.CART_COOKIE);\n    let encryptedInfoData = localStorage.getItem(process.env.INFO_COOKIE);\n    let cart = decryptData(encryptedData);\n    let stateSchema = decryptInfoData(encryptedInfoData);\n    let orderItems = [];\n\n    for (let i = 0; i < cart.length; i++) {\n      let obj = null;\n\n      if (isCampaign) {\n        obj = {\n          productId: cart[i].id,\n          name: cart[i].name,\n          quantity: cart[i].quantity,\n          itemPrice: cart[i].campaign_price\n        };\n      } else {\n        obj = {\n          productId: cart[i].id,\n          name: cart[i].name,\n          quantity: cart[i].quantity,\n          itemPrice: cart[i].discount_price\n        };\n      }\n\n      orderItems.push(obj);\n    }\n\n    let order = {\n      orderItems: orderItems,\n      userId: userId,\n      shippingFirstName: stateSchema.shipping_firstName.value,\n      shippingLastName: stateSchema.shipping_lastName.value,\n      shippingPhone: stateSchema.shipping_phone.value,\n      shippingAddress: stateSchema.shipping_address.value,\n      shippingCity: stateSchema.shipping_city.value,\n      shippingProvince: \"Metro Manila\",\n      shippingZip: stateSchema.shipping_zip.value,\n      deliveryInstructions: stateSchema.note.value,\n      message: stateSchema.message.value,\n      billingFirstName: stateSchema.billing_firstName.value,\n      billingLastName: stateSchema.billing_lastName.value,\n      billingPhone: stateSchema.billing_phone.value,\n      billingEmail: stateSchema.billing_email.value,\n      deliveryDate: stateSchema.delivery_date.value,\n      deliveryTime: stateSchema.delivery_time.value,\n      paymentMethod: paymentMethod,\n      isCampaign: isCampaign\n    };\n\n    try {\n      const res = await axios.post(`${host}/api/user/order`, order);\n\n      if (res) {\n        let encryptedData = encryptString(res.data.order_name); // return console.log(encryptedData, encryptedData);\n\n        let sendEmailRes = await axios.post(`${host}/api/user/order/sendEmail`, {\n          billingEmail: order.billingEmail,\n          billingFirstName: order.billingFirstName,\n          orderName: res.data.order_name,\n          cryptoStr: encryptedData,\n          orderItems: orderItems,\n          paymentMethod: paymentMethod,\n          deliveryDate: formatDate(stateSchema.delivery_date.value)\n        });\n\n        if (sendEmailRes) {\n          clearData();\n          Router.push(`/thankyou/${encryptedData}`);\n        }\n      }\n    } catch (err) {\n      setisLoading(false);\n      console.log(err.response.data);\n      console.log(err.response.data[0].message);\n\n      if (err.response) {\n        if (err.response.data) {\n          if (err.response.data[0]) {\n            if (err.response.data[0].updatedOrderItems) {\n              handleChangePrice(err.response.data[0].updatedOrderItems);\n            }\n\n            return toast.error(err.response.data[0].message);\n          }\n        }\n      } else {\n        toast.error(\"Something went wrong, Please try again or contact us.\");\n      }\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"pt-40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }\n  }, __jsx(ToastContainer, {\n    transition: Slide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"row\",\n    style: {\n      marginLeft: \"0px\",\n      marginRight: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-5 col-md-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }, __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 15\n    }\n  }, \"User Details\"), __jsx(Link, {\n    href: \"/checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    className: \"ml-auto btn btn-link text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 17\n    }\n  }, \"Edit\"))), __jsx(ShippingSummary, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }\n  }, __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 15\n    }\n  }, \"Order Details\"), __jsx(Link, {\n    href: \"/cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    className: \"ml-auto btn btn-link text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }\n  }, \"Edit\"))), __jsx(OrderSummary, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"col-lg-7 col-md-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }\n  }, __jsx(\"h5\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  }, \"Select Payment Method\"), __jsx(\"div\", {\n    className: \"order-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"payment-method\",\n    style: {\n      paddingTop: 0,\n      marginTop: \"20px\",\n      marginLeft: \"0.5rem\",\n      marginRight: \"0.5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"direct-bank-transfer\",\n    name: \"radio-button\",\n    onChange: () => handleChange(\"bank\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 19\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"direct-bank-transfer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 19\n    }\n  }, \"Credit Card\"), selectedPayment == \"bank\" ? __jsx(React.Fragment, null, __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 23\n    }\n  }), __jsx(\"img\", {\n    src: require(\"../../images/logos/banks2.jpg\"),\n    alt: \"image\",\n    height: \"150\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 23\n    }\n  }), __jsx(CreditCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 23\n    }\n  }), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 23\n    }\n  })) : null)), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 17\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"cash-on-delivery\",\n    name: \"radio-button\",\n    onChange: () => handleChange(\"cod\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 19\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"cash-on-delivery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 19\n    }\n  }, \"Cash on Delivery\"), selectedPayment == \"cod\" ? __jsx(React.Fragment, null, __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 23\n    }\n  }), __jsx(\"img\", {\n    src: require(\"../../images/logos/cod.jpg\"),\n    alt: \"image\",\n    height: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 23\n    }\n  }), __jsx(\"p\", {\n    style: {\n      paddingTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 23\n    }\n  }, \"When using our Cash on Delivery service, payment is given to our delivery rider upon receipt of item.\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 23\n    }\n  }), !isLoading ? __jsx(\"button\", {\n    onClick: () => handleSubmit(\"COD\"),\n    className: \"btn btn-light mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 25\n    }\n  }, \"Confirm Order\") : __jsx(\"div\", {\n    className: \"lds-ring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 27\n    }\n  })), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 23\n    }\n  })) : null)), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 17\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"gcash\",\n    name: \"radio-button\",\n    onChange: () => handleChange(\"gcash\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 19\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"gcash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 19\n    }\n  }, \"GCash\"), selectedPayment == \"gcash\" ? __jsx(React.Fragment, null, __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 23\n    }\n  }), __jsx(\"img\", {\n    src: require(\"../../images/logos/gcash.png\"),\n    alt: \"image\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 23\n    }\n  }), __jsx(\"p\", {\n    style: {\n      paddingTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 23\n    }\n  }, \"Once the order is completed, you can settle the amount into our Gcash account (via deposit or bank transfer)\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"d-flex justify-content-between\",\n    style: {\n      maxWidth: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 25\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 27\n    }\n  }, \"E-Wallet:\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 27\n    }\n  }, \"GCash\")), __jsx(\"div\", {\n    className: \"d-flex justify-content-between\",\n    style: {\n      maxWidth: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 25\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 27\n    }\n  }, \"Account Name:\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 27\n    }\n  }, \"Marxs Joshua\")), __jsx(\"div\", {\n    className: \"d-flex justify-content-between\",\n    style: {\n      maxWidth: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 25\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 27\n    }\n  }, \"Mobile Number:\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 27\n    }\n  }, \"09214430131\"))), __jsx(\"p\", {\n    style: {\n      color: \"red\",\n      paddingTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 23\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 25\n    }\n  }, \"Note:\"), \" Please send proof of payment (screenshot, printscreen) to\", \" \", __jsx(\"span\", {\n    style: {\n      color: \"#33bd33\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 25\n    }\n  }, \"i-Wheels26@gmail.com\"), \" \", \"or send a message to our\", \" \", __jsx(\"a\", {\n    className: \"d-inline\",\n    href: \"https://www.facebook.com/i-Wheelsph-127061742122440/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 25\n    }\n  }, \"Facebook Page\"), \".\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 23\n    }\n  }), !isLoading ? __jsx(\"button\", {\n    onClick: () => handleSubmit(\"GCash\"),\n    className: \"btn btn-light mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 25\n    }\n  }, \"Confirm Order\") : __jsx(\"div\", {\n    className: \"lds-ring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 27\n    }\n  })), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 23\n    }\n  })) : null)), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 17\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    id: \"paymaya\",\n    name: \"radio-button\",\n    onChange: () => handleChange(\"paymaya\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 19\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"paymaya\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 19\n    }\n  }, \"Paymaya\"), selectedPayment == \"paymaya\" ? __jsx(React.Fragment, null, __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 23\n    }\n  }), __jsx(\"img\", {\n    src: require(\"../../images/logos/paymaya.jpg\"),\n    alt: \"image\",\n    height: \"50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 23\n    }\n  }), __jsx(\"p\", {\n    style: {\n      paddingTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 23\n    }\n  }, \"Once the order is completed, you can settle the amount into our Paymaya account (via deposit or bank transfer)\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"d-flex justify-content-between\",\n    style: {\n      maxWidth: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 25\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 27\n    }\n  }, \"E-Wallet:\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 27\n    }\n  }, \"Paymaya\")), __jsx(\"div\", {\n    className: \"d-flex justify-content-between\",\n    style: {\n      maxWidth: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 25\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 27\n    }\n  }, \"Account Name:\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 27\n    }\n  }, \"I-Wheels\")), __jsx(\"div\", {\n    className: \"d-flex justify-content-between\",\n    style: {\n      maxWidth: \"300px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 25\n    }\n  }, __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 27\n    }\n  }, \"Mobile Number:\"), __jsx(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 27\n    }\n  }, \"0916 509 1083\"))), __jsx(\"p\", {\n    style: {\n      color: \"red\",\n      paddingTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 23\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 25\n    }\n  }, \"Note:\"), \" Please send proof of payment (screenshot, printscreen) to\", \" \", __jsx(\"span\", {\n    style: {\n      color: \"#33bd33\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 25\n    }\n  }, \"i-Wheels26@gmail.com\"), \" \", \"or send a message to our\", \" \", __jsx(\"a\", {\n    className: \"d-inline\",\n    href: \"https://www.facebook.com/i-Wheelsph-127061742122440/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 25\n    }\n  }, \"Facebook Page\"), \".\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 23\n    }\n  }), !isLoading ? __jsx(\"button\", {\n    onClick: () => handleSubmit(\"Paymaya\"),\n    className: \"btn btn-light mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 25\n    }\n  }, \"Confirm Order\") : __jsx(\"div\", {\n    className: \"lds-ring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 27\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 27\n    }\n  })), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 23\n    }\n  })) : null)))))));\n}\n\nexport default PaymentMethods;","map":{"version":3,"sources":["C:/Users/corde/Desktop/New folder/bikeshop/bikeshop_frontend/components/payments/PaymentMethods.js"],"names":["React","useEffect","useState","OrderSummary","Link","ShippingSummary","decryptData","clearData","encryptData","decryptInfoData","encryptString","axios","Router","Paypal","cookie","formatDate","Slide","toast","ToastContainer","useDispatch","CreditCard","host","process","env","API_URL","PaymentMethods","dispatch","selectedPayment","setselectedPayment","isCampaign","setisCampaign","isLoading","setisLoading","isCodOn","setisCodOn","total","setTotal","encryptedInfoData","localStorage","getItem","INFO_COOKIE","stateSchema","shipping_city","value","toLowerCase","includes","shipping_address","parseInt","shipping_zip","decryptedData","delivery_date","encryptedData","CART_COOKIE","cart","amount","items","i","length","discount_price","quantity","alert","handleChange","fetchUser","token","res","get","headers","Authorization","data","userDetails","error","removeItem","props","history","push","handleChangePrice","products","cartStorage","cartArray","el","index","findIndex","item","id","productId","campaign_price","JSON","stringify","setItem","type","handleSubmit","paymentMethod","userId","orderItems","obj","name","itemPrice","order","shippingFirstName","shipping_firstName","shippingLastName","shipping_lastName","shippingPhone","shipping_phone","shippingAddress","shippingCity","shippingProvince","shippingZip","deliveryInstructions","note","message","billingFirstName","billing_firstName","billingLastName","billing_lastName","billingPhone","billing_phone","billingEmail","billing_email","deliveryDate","deliveryTime","delivery_time","post","order_name","sendEmailRes","orderName","cryptoStr","err","console","log","response","updatedOrderItems","marginLeft","marginRight","paddingTop","marginTop","require","maxWidth","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport OrderSummary from \"../checkout/OrderSummary\";\r\nimport Link from \"next/link\";\r\nimport ShippingSummary from \"../checkout/ShippingSummary\";\r\nimport {\r\n  decryptData,\r\n  clearData,\r\n  encryptData,\r\n} from \"../../store/actions/cartActions\";\r\nimport {\r\n  decryptInfoData,\r\n  encryptString,\r\n} from \"../../store/actions/infoActions\";\r\nimport axios from \"axios\";\r\nimport Router from \"next/router\";\r\nimport Paypal from \"./Paypal\";\r\nimport cookie from \"js-cookie\";\r\nimport { formatDate } from \"../../helpers/function\";\r\nimport { Slide, toast, ToastContainer } from \"react-toastify\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport CreditCard from \"./CreditCard\";\r\n\r\nlet host = process.env.API_URL;\r\n\r\nfunction PaymentMethods() {\r\n  const dispatch = useDispatch();\r\n  const [selectedPayment, setselectedPayment] = useState(\"\");\r\n  const [isCampaign, setisCampaign] = useState(false);\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [isCodOn, setisCodOn] = useState(false);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let encryptedInfoData = localStorage.getItem(process.env.INFO_COOKIE);\r\n    let stateSchema = decryptInfoData(encryptedInfoData);\r\n\r\n    if (\r\n      stateSchema.shipping_city.value.toLowerCase().includes(\"makati\") ||\r\n      stateSchema.shipping_address.value.toLowerCase().includes(\"makati\") ||\r\n      [\r\n        1226, 1233, 1209, 1214, 1217, 1221, 1222, 1219, 1220, 1202, 1201, 1228,\r\n        1212, 1211, 1206, 1204, 1229, 1232, 1224, 1200, 1207, 1235, 1231, 1218,\r\n        1213, 1230, 1210, 1216, 1215, 1227, 1203, 1234, 1223, 1205, 1225, 1208,\r\n      ].includes(parseInt(stateSchema.shipping_zip.value))\r\n    ) {\r\n      setisCodOn(true);\r\n    }\r\n\r\n    let decryptedData = decryptInfoData();\r\n\r\n    if (decryptedData) {\r\n      if (decryptedData.delivery_date.value == \"2023-02-14\") {\r\n        setisCampaign(true);\r\n      }\r\n    }\r\n    // toast.error(err.response.data[0].message);\r\n    // console.log(, \"HEYYYY\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let encryptedData = localStorage.getItem(process.env.CART_COOKIE);\r\n    let cart = decryptData(encryptedData);\r\n\r\n    let amount = 0;\r\n    let items = [];\r\n    for (let i = 0; i < cart.length; i++) {\r\n      amount = amount + cart[i].discount_price * cart[i].quantity;\r\n    }\r\n    amount = amount + 120;\r\n\r\n    alert(amount);\r\n  }, []);\r\n\r\n  const handleChange = (value) => {\r\n    setselectedPayment(value);\r\n  };\r\n\r\n  const fetchUser = async (token) => {\r\n    try {\r\n      let res = await axios.get(`${host}/api/user/user/details`, {\r\n        headers: {\r\n          Authorization: token,\r\n        },\r\n      });\r\n      if (res.data.userDetails) {\r\n        return res.data.userDetails[\"id\"];\r\n      } else {\r\n        return 0;\r\n      }\r\n    } catch (error) {\r\n      localStorage.removeItem(\"token\");\r\n      this.props.history.push(\"/login\");\r\n      toast.error(\"Your token is invalid or expired.\");\r\n    }\r\n  };\r\n\r\n  const handleChangePrice = (products) => {\r\n    let cartStorage = localStorage.getItem(process.env.CART_COOKIE);\r\n    let cartArray = decryptData(cartStorage);\r\n\r\n    for (let i = 0; i < products.length; i++) {\r\n      const el = products[i];\r\n\r\n      var index = cartArray.findIndex((item) => item.id === el.productId);\r\n\r\n      if (index > -1) {\r\n        cartArray[index][\"campaign_price\"] = el.campaign_price;\r\n        cartArray[index][\"discount_price\"] = el.discount_price;\r\n      }\r\n\r\n      let encryptedData = encryptData(JSON.stringify(cartArray));\r\n\r\n      localStorage.setItem(process.env.CART_COOKIE, encryptedData);\r\n\r\n      dispatch(\r\n        (() => {\r\n          return {\r\n            type: \"UPDATE_CART\",\r\n          };\r\n        })()\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (paymentMethod) => {\r\n    let userId = 0;\r\n    let token = cookie.get(\"_wus_BJK\");\r\n    if (token) {\r\n      try {\r\n        userId = await fetchUser(token);\r\n      } catch (error) {}\r\n    }\r\n\r\n    setisLoading(true);\r\n    let encryptedData = localStorage.getItem(process.env.CART_COOKIE);\r\n    let encryptedInfoData = localStorage.getItem(process.env.INFO_COOKIE);\r\n    let cart = decryptData(encryptedData);\r\n    let stateSchema = decryptInfoData(encryptedInfoData);\r\n\r\n    let orderItems = [];\r\n    for (let i = 0; i < cart.length; i++) {\r\n      let obj = null;\r\n      if (isCampaign) {\r\n        obj = {\r\n          productId: cart[i].id,\r\n          name: cart[i].name,\r\n          quantity: cart[i].quantity,\r\n          itemPrice: cart[i].campaign_price,\r\n        };\r\n      } else {\r\n        obj = {\r\n          productId: cart[i].id,\r\n          name: cart[i].name,\r\n          quantity: cart[i].quantity,\r\n          itemPrice: cart[i].discount_price,\r\n        };\r\n      }\r\n\r\n      orderItems.push(obj);\r\n    }\r\n\r\n    let order = {\r\n      orderItems: orderItems,\r\n      userId: userId,\r\n      shippingFirstName: stateSchema.shipping_firstName.value,\r\n      shippingLastName: stateSchema.shipping_lastName.value,\r\n      shippingPhone: stateSchema.shipping_phone.value,\r\n      shippingAddress: stateSchema.shipping_address.value,\r\n      shippingCity: stateSchema.shipping_city.value,\r\n      shippingProvince: \"Metro Manila\",\r\n      shippingZip: stateSchema.shipping_zip.value,\r\n      deliveryInstructions: stateSchema.note.value,\r\n      message: stateSchema.message.value,\r\n      billingFirstName: stateSchema.billing_firstName.value,\r\n      billingLastName: stateSchema.billing_lastName.value,\r\n      billingPhone: stateSchema.billing_phone.value,\r\n      billingEmail: stateSchema.billing_email.value,\r\n      deliveryDate: stateSchema.delivery_date.value,\r\n      deliveryTime: stateSchema.delivery_time.value,\r\n      paymentMethod: paymentMethod,\r\n      isCampaign: isCampaign,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(`${host}/api/user/order`, order);\r\n      if (res) {\r\n        let encryptedData = encryptString(res.data.order_name);\r\n\r\n        // return console.log(encryptedData, encryptedData);\r\n\r\n        let sendEmailRes = await axios.post(\r\n          `${host}/api/user/order/sendEmail`,\r\n          {\r\n            billingEmail: order.billingEmail,\r\n            billingFirstName: order.billingFirstName,\r\n            orderName: res.data.order_name,\r\n            cryptoStr: encryptedData,\r\n            orderItems: orderItems,\r\n            paymentMethod: paymentMethod,\r\n            deliveryDate: formatDate(stateSchema.delivery_date.value),\r\n          }\r\n        );\r\n\r\n        if (sendEmailRes) {\r\n          clearData();\r\n          Router.push(`/thankyou/${encryptedData}`);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setisLoading(false);\r\n      console.log(err.response.data);\r\n      console.log(err.response.data[0].message);\r\n      if (err.response) {\r\n        if (err.response.data) {\r\n          if (err.response.data[0]) {\r\n            if (err.response.data[0].updatedOrderItems) {\r\n              handleChangePrice(err.response.data[0].updatedOrderItems);\r\n            }\r\n            return toast.error(err.response.data[0].message);\r\n          }\r\n        }\r\n      } else {\r\n        toast.error(\"Something went wrong, Please try again or contact us.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"pt-40\">\r\n      <ToastContainer transition={Slide} />\r\n      <div className=\"row\" style={{ marginLeft: \"0px\", marginRight: \"0px\" }}>\r\n        <div className=\"col-lg-5 col-md-5\">\r\n          <div>\r\n            <div className=\"d-flex\">\r\n              <h5>User Details</h5>\r\n              <Link href=\"/checkout\">\r\n                <a className=\"ml-auto btn btn-link text-danger\">Edit</a>\r\n              </Link>\r\n            </div>\r\n            <ShippingSummary />\r\n          </div>\r\n\r\n          <div>\r\n            <div className=\"d-flex\">\r\n              <h5>Order Details</h5>\r\n              <Link href=\"/cart\">\r\n                <a className=\"ml-auto btn btn-link text-danger\">Edit</a>\r\n              </Link>\r\n            </div>\r\n            <OrderSummary />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-7 col-md-7\">\r\n          <h5 className=\"text-center\">Select Payment Method</h5>\r\n          <div className=\"order-details\">\r\n            <div\r\n              className=\"payment-method\"\r\n              style={{\r\n                paddingTop: 0,\r\n                marginTop: \"20px\",\r\n                marginLeft: \"0.5rem\",\r\n                marginRight: \"0.5rem\",\r\n              }}\r\n            >\r\n              <div>\r\n                <p>\r\n                  <input\r\n                    type=\"radio\"\r\n                    id=\"direct-bank-transfer\"\r\n                    name=\"radio-button\"\r\n                    onChange={() => handleChange(\"bank\")}\r\n                  />\r\n                  <label htmlFor=\"direct-bank-transfer\">Credit Card</label>\r\n                  {selectedPayment == \"bank\" ? (\r\n                    <>\r\n                      <hr />\r\n                      <img\r\n                        src={require(\"../../images/logos/banks2.jpg\")}\r\n                        alt=\"image\"\r\n                        height=\"150\"\r\n                      />\r\n                      <CreditCard />\r\n\r\n                      <hr />\r\n                    </>\r\n                  ) : null}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p>\r\n                  <input\r\n                    type=\"radio\"\r\n                    id=\"cash-on-delivery\"\r\n                    name=\"radio-button\"\r\n                    onChange={() => handleChange(\"cod\")}\r\n                  />\r\n                  <label htmlFor=\"cash-on-delivery\">Cash on Delivery</label>\r\n                  {selectedPayment == \"cod\" ? (\r\n                    <>\r\n                      <hr />\r\n                      <img\r\n                        src={require(\"../../images/logos/cod.jpg\")}\r\n                        alt=\"image\"\r\n                        height=\"100\"\r\n                      />\r\n                      <p style={{ paddingTop: \"10px\" }}>\r\n                        When using our Cash on Delivery service, payment is\r\n                        given to our delivery rider upon receipt of item.\r\n                      </p>\r\n                      <br />\r\n                      {!isLoading ? (\r\n                        <button\r\n                          onClick={() => handleSubmit(\"COD\")}\r\n                          className=\"btn btn-light mb-3\"\r\n                        >\r\n                          Confirm Order\r\n                        </button>\r\n                      ) : (\r\n                        <div className=\"lds-ring\">\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                        </div>\r\n                      )}\r\n                      <hr />\r\n                    </>\r\n                  ) : null}\r\n                </p>\r\n              </div>\r\n\r\n              <div>\r\n                <p>\r\n                  <input\r\n                    type=\"radio\"\r\n                    id=\"gcash\"\r\n                    name=\"radio-button\"\r\n                    onChange={() => handleChange(\"gcash\")}\r\n                  />\r\n\r\n                  <label htmlFor=\"gcash\">GCash</label>\r\n                  {selectedPayment == \"gcash\" ? (\r\n                    <>\r\n                      <hr />\r\n                      <img\r\n                        src={require(\"../../images/logos/gcash.png\")}\r\n                        alt=\"image\"\r\n                        height=\"70\"\r\n                      />\r\n                      <p style={{ paddingTop: \"20px\" }}>\r\n                        Once the order is completed, you can settle the amount\r\n                        into our Gcash account (via deposit or bank transfer)\r\n                      </p>\r\n                      <div>\r\n                        <div\r\n                          className=\"d-flex justify-content-between\"\r\n                          style={{ maxWidth: \"300px\" }}\r\n                        >\r\n                          <h6>E-Wallet:</h6>\r\n                          <h6>GCash</h6>\r\n                        </div>\r\n                        <div\r\n                          className=\"d-flex justify-content-between\"\r\n                          style={{ maxWidth: \"300px\" }}\r\n                        >\r\n                          <h6>Account Name:</h6>\r\n                          <h6>Marxs Joshua</h6>\r\n                        </div>\r\n                        <div\r\n                          className=\"d-flex justify-content-between\"\r\n                          style={{ maxWidth: \"300px\" }}\r\n                        >\r\n                          <h6>Mobile Number:</h6>\r\n                          <h6>09214430131</h6>\r\n                        </div>\r\n                      </div>\r\n                      <p style={{ color: \"red\", paddingTop: \"20px\" }}>\r\n                        <b>Note:</b> Please send proof of payment (screenshot,\r\n                        printscreen) to{\" \"}\r\n                        <span style={{ color: \"#33bd33\" }}>\r\n                          i-Wheels26@gmail.com\r\n                        </span>{\" \"}\r\n                        or send a message to our{\" \"}\r\n                        <a\r\n                          className=\"d-inline\"\r\n                          href=\"https://www.facebook.com/i-Wheelsph-127061742122440/\"\r\n                        >\r\n                          Facebook Page\r\n                        </a>\r\n                        .\r\n                      </p>\r\n                      <br />\r\n                      {!isLoading ? (\r\n                        <button\r\n                          onClick={() => handleSubmit(\"GCash\")}\r\n                          className=\"btn btn-light mb-3\"\r\n                        >\r\n                          Confirm Order\r\n                        </button>\r\n                      ) : (\r\n                        <div className=\"lds-ring\">\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                        </div>\r\n                      )}\r\n                      <hr />\r\n                    </>\r\n                  ) : null}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p>\r\n                  <input\r\n                    type=\"radio\"\r\n                    id=\"paymaya\"\r\n                    name=\"radio-button\"\r\n                    onChange={() => handleChange(\"paymaya\")}\r\n                  />\r\n                  <label htmlFor=\"paymaya\">Paymaya</label>\r\n                  {selectedPayment == \"paymaya\" ? (\r\n                    <>\r\n                      <hr />\r\n                      <img\r\n                        src={require(\"../../images/logos/paymaya.jpg\")}\r\n                        alt=\"image\"\r\n                        height=\"50\"\r\n                      />\r\n                      <p style={{ paddingTop: \"20px\" }}>\r\n                        Once the order is completed, you can settle the amount\r\n                        into our Paymaya account (via deposit or bank transfer)\r\n                      </p>\r\n                      <div>\r\n                        <div\r\n                          className=\"d-flex justify-content-between\"\r\n                          style={{ maxWidth: \"300px\" }}\r\n                        >\r\n                          <h6>E-Wallet:</h6>\r\n                          <h6>Paymaya</h6>\r\n                        </div>\r\n                        <div\r\n                          className=\"d-flex justify-content-between\"\r\n                          style={{ maxWidth: \"300px\" }}\r\n                        >\r\n                          <h6>Account Name:</h6>\r\n                          <h6>I-Wheels</h6>\r\n                        </div>\r\n                        <div\r\n                          className=\"d-flex justify-content-between\"\r\n                          style={{ maxWidth: \"300px\" }}\r\n                        >\r\n                          <h6>Mobile Number:</h6>\r\n                          <h6>0916 509 1083</h6>\r\n                        </div>\r\n                      </div>\r\n                      <p style={{ color: \"red\", paddingTop: \"20px\" }}>\r\n                        <b>Note:</b> Please send proof of payment (screenshot,\r\n                        printscreen) to{\" \"}\r\n                        <span style={{ color: \"#33bd33\" }}>\r\n                          i-Wheels26@gmail.com\r\n                        </span>{\" \"}\r\n                        or send a message to our{\" \"}\r\n                        <a\r\n                          className=\"d-inline\"\r\n                          href=\"https://www.facebook.com/i-Wheelsph-127061742122440/\"\r\n                        >\r\n                          Facebook Page\r\n                        </a>\r\n                        .\r\n                      </p>\r\n                      <br />\r\n                      {!isLoading ? (\r\n                        <button\r\n                          onClick={() => handleSubmit(\"Paymaya\")}\r\n                          className=\"btn btn-light mb-3\"\r\n                        >\r\n                          Confirm Order\r\n                        </button>\r\n                      ) : (\r\n                        <div className=\"lds-ring\">\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                          <div></div>\r\n                        </div>\r\n                      )}\r\n                      <hr />\r\n                    </>\r\n                  ) : null}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PaymentMethods;\r\n"]},"metadata":{},"sourceType":"module"}